<!DOCTYPE html>
<!--[if lte IE 8]><html class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>The Fog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
Made in Twine 1.4.2 (running on Windows 8)
Built on 07 Feb 2016 at 18:21:03, -0500

Sugarcane is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<script title="engine">
(function(){

function clone(a){var constructor,b,proto;if(!a||typeof a!="object"){return a
}constructor=a.constructor;if(constructor==Date||constructor==RegExp){b=new constructor(a)}else{if(constructor==Array){b=[]}else{if(a.nodeType&&typeof a.cloneNode=="function"){b=a.cloneNode(true)}else{proto=(typeof Object.getPrototypeOf=="function"?Object.getPrototypeOf(a):a.__proto__);b=proto?Object.create(proto):{}}}}for(var property in a){if(Object.prototype.hasOwnProperty.call(a,property)&&!isCyclic(a[property])){if(typeof a[property]=="object"){try{b[property]=clone(a[property]);continue}catch(e){}}b[property]=a[property]}}return b}function isCyclic(obj){var properties=[];return(function recurse(obj){var key,i,ownProps=[];if(obj&&typeof obj=="object"){if(properties.indexOf(obj)>-1){return true
}properties.push(obj);for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)&&recurse(obj[key])){return true
}}}return false}(obj))}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function addClickHandler(el,fn){if(el.addEventListener){el.addEventListener("click",fn)}else{if(el.attachEvent){el.attachEvent("onclick",fn)}}}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function findPassageParent(el){while(el&&el!=document.body&&!~el.className.indexOf("passage")){el=el.parentNode}return el==document.body?null:el}function setPageElement(c,b,a){var place;if(place=(typeof c=="string"?document.getElementById(c):c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).processText())}else{new Wikifier(place,a)}}}var scrollWindowInterval;function scrollWindowTo(e,margin){var d=window.scrollY?window.scrollY:document.documentElement.scrollTop,m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight,g=k(e),j=(d>g)?-1:1,b=0,c=Math.abs(d-g);scrollWindowInterval&&window.clearInterval(scrollWindowInterval);if(c){scrollWindowInterval=window.setInterval(h,25)}function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(scrollWindowInterval)}}function k(o){var p=a(o),h=o.offsetHeight,n=d+m;p=Math.min(Math.max(p+(margin||0)*(p<d?-1:1),0),n);if(p<d){return p
}else{if(p+h>n){if(h<m){return(p-(m-h)+20)}else{return p
}}else{return p
}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}}function delta(old,neu){var vars,ret={};if(old&&neu){for(vars in neu){if(neu[vars]!==old[vars]){ret[vars]=neu[vars]}}}return ret}function decompile(val){var i,ret;if((typeof val!="object"&&typeof val!="function")||!val){return val
}else{if(val instanceof Passage){return{"[[Passage]]":val.id}}else{if(Array.isArray(val)){ret=[]}else{ret={}}}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)&&!isCyclic(val[i])){ret[i]=decompile(val[i])}}if(typeof val=="function"||val instanceof RegExp){try{internalEval(val+"");ret["[[Call]]"]=val+""}catch(e){ret["[[Call]]"]="function(){}"}}return ret}function recompile(val){var i,ret=val;if(val&&typeof val=="object"){if(typeof val["[[Passage]]"]=="number"){return tale.get(val["[[Passage]]"])}if(typeof val["[[Call]]"]=="string"){try{ret=internalEval(val["[[Call]]"])}catch(e){}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)){ret[i]=recompile(val[i])}}}return ret}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function alterCSS(text){var temp="",imgPassages=tale.lookup("tags","Twine.image");text=text.replace(/\/\*(?:[^\*]|\*(?!\/))*\*\//g,"");text=text.replace(/:link/g,"[class*=Link]");text=text.replace(/:visited/g,".visitedLink");text=text.replace(/@import\s+(?:url\s*\(\s*['"]?|['"])[^"'\s]+(?:['"]?\s*\)|['"])\s*([\w\s\(\)\d\:,\-]*);/g,function(e){temp+=e;return""});text=temp+text;return text.replace(new RegExp(Wikifier.imageFormatter.lookahead,"gim"),function(m,p1,p2,p3,src){for(var i=0;i<imgPassages.length;i++){if(imgPassages[i].title==src){src=imgPassages[i].text;break}}return"url("+src+")"})}function setTransitionCSS(styleText){styleText=alterCSS(styleText);var style=document.getElementById("transitionCSS");style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText)}function throwError(a,b,tooltip){if(a){var elem=insertElement(a,"span",null,"marked",b);tooltip&&elem.setAttribute("title",tooltip)}else{alert("Regrettably, this "+tale.identity()+"'s code just ran into a problem:\n"+b+".\n"+softErrorMessage)}}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(keepquotes){var exec,re=/(?:\s*)(?:(?:"([^"]*)")|(?:'([^']*)')|(?:\[\[((?:[^\]]|\](?!\]))*)\]\])|([^"'\s]\S*))/mg,params=[];do{var val;exec=re.exec(this);if(exec){if(exec[1]){val=exec[1];keepquotes&&(val='"'+val+'"')}else{if(exec[2]){val=exec[2];keepquotes&&(val="'"+val+"'")}else{if(exec[3]){val=exec[3];keepquotes&&(val='"'+val.replace('"','\\"')+'"')}else{if(exec[4]){val=exec[4]}}}}val&&params.push(val)}}while(exec);return params};String.prototype.readBracketedList=function(){var c,b="\\[\\[([^\\]]+)\\]\\]",a="[^\\s$]+",e="(?:"+b+")|("+a+")",d=new RegExp(e,"mg"),f=[];do{c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};function rot13(s){return s.replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt()+13)?c:c-26)})}Object.create||(function(){var F=function(){};Object.create=function(o){if(typeof o!="object"){throw TypeError()}F.prototype=o;return new F()}})();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});Array.isArray||(Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,d){d=(d==null)?0:d;var a=this.length;for(var c=d;c<a;c++){if(this[c]==b){return c
}}return -1});Array.prototype.forEach||(Array.prototype.forEach=function(fun){if(this==null){throw TypeError()}var t=Object(this);var len=+t.length;if(typeof fun!="function"){throw TypeError()}var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){fun.call(thisArg,t[i],i,t)}}});(function(){function t(t){this.message=t}var e=window,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=0.75),n>255){throw new t()}o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4){throw new t()}for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0){n=r.indexOf(n)}return c})})();var hasTransition="transition" in document.documentElement.style||"-webkit-transition" in document.documentElement.style;function fade(f,c){var h;var e=f.cloneNode(true);var g=(c.fade=="in")?1:-1;f.parentNode.replaceChild(e,f);if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1
}b(e,h);var a=window.setInterval(d,25);function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){f.style.visibility=(c.fade=="in")?"visible":"hidden";if(e.parentNode){e.parentNode.replaceChild(f,e)}window.clearInterval(a);if(c.onComplete){c.onComplete.call(f)}}}function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";k.style.opacity=j}}function History(){this.history=[{passage:null,variables:{}}];this.id=new Date().getTime()+"";this.hash=""}History.prototype.encodeHistory=function(b,noVars){var ret=".",vars,type,hist=this.history[b],d=this.history[b+1]?delta(this.history[b+1].variables,hist.variables):hist.variables;function vtob(val){try{return window.btoa(unescape(encodeURIComponent(JSON.stringify(decompile(val)))))}catch(e){return"0"
}}if(!hist.passage||hist.passage.id==null){return""
}ret+=hist.passage.id.toString(36);if(noVars){return ret
}for(vars in d){type=typeof d[vars];if(type!="undefined"){ret+="$"+vtob(vars)+","+vtob(d[vars])}}for(vars in hist.linkVars){type=typeof hist.linkVars[vars];if(type!="function"&&type!="undefined"){ret+="["+vtob(vars)+","+vtob(hist.linkVars[vars])}}return ret};History.decodeHistory=function(str,prev){var name,splits,variable,c,d,ret={variables:clone(prev.variables)||{}},match=/([a-z0-9]+)((?:\$[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)((?:\[[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)/g.exec(str);function btov(str){try{return recompile(JSON.parse(decodeURIComponent(escape(window.atob(str)))))}catch(e){return 0
}}if(match){name=parseInt(match[1],36);if(!tale.has(name)){return false
}if(match[2]){ret.variables||(ret.variables={});splits=match[2].split("$");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.variables[d]=btov(variable[1])}}}if(match[3]){ret.linkVars||(ret.linkVars={});splits=match[3].split("[");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.linkVars[d]=btov(variable[1])}}}ret.passage=tale.get(name);return ret}};History.prototype.save=function(){var hist,b,a="";for(b=this.history.length-1;b>=0;b--){hist=this.history[b];if(!hist){break
}a+=this.encodeHistory(b)}return"#"+a};History.prototype.restore=function(){var a,b,c,vars;try{if(!window.location.hash||(window.location.hash=="#")){if(testplay){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display(testplay,null,"quietly");return true}return false}if(window.location.hash.substr(0,2)=="#!"){c=window.location.hash.substr(2).split("_").join(" ");this.display(c,null,"quietly");return true}a=window.location.hash.replace("#","").split(".");for(b=0;b<a.length;b++){vars=History.decodeHistory(a[b],vars||{});if(vars){if(b==a.length-1){vars.variables=clone(this.history[0].variables);for(c in this.history[0].linkVars){vars.variables[c]=clone(this.history[0].linkVars[c])}this.history.unshift(vars);this.display(vars.passage.title,null,"back")}else{this.history.unshift(vars)}}}return true}catch(d){return false
}};History.prototype.saveVariables=function(c,el,callback){if(typeof callback=="function"){callback.call(el)}this.history.unshift({passage:c,variables:clone(this.history[0].variables)})};var restart=History.prototype.restart=function(){if(typeof window.history.replaceState=="function"){(typeof this.pushState=="function")&&this.pushState(true,window.location.href.replace(/#.*$/,""));window.location.reload()}else{window.location.hash=""}};var version={major:4,minor:2,revision:0,date:new Date("2014"),extensions:{}};var testplay,tale,state,prerender={},postrender={},macros=window.macros={};version.extensions.displayMacro={major:2,minor:0,revision:0};macros.display={parameters:[],handler:function(place,macroName,params,parser){var t,j,output,oldDisplayParams,name=parser.fullArgs();if(macroName!="display"){output=macroName;params=parser.fullMatch().replace(/^\S*|>>$/g,"").readMacroParams(true);try{for(j=0;j<params.length;j++){params[j]=internalEval(Wikifier.parse(params[j]))}}catch(e){throwError(place,parser.fullMatch()+" bad argument: "+params[j],parser.fullMatch());return}}else{try{output=internalEval(name)}catch(e){}if(output==null){if(tale.has(name)){output=name
}}}if(!output){throwError(place,"<<"+macroName+'>>: "'+name+'" did not evaluate to a passage name',parser.fullMatch())}else{if(!tale.has(output+"")){throwError(place,"<<"+macroName+'>>: The "'+output+'" passage does not exist',parser.fullMatch())}else{oldDisplayParams=this.parameters;this.parameters=params;t=tale.get(output+"");if(t.tags.indexOf("script")>-1){scriptEval(t)}else{new Wikifier(place,t.processText())}this.parameters=oldDisplayParams
}}}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var v=state.history[0].variables,e=insertElement(a,"ul");if(!v["actions clicked"]){v["actions clicked"]={}}for(var b=0;b<g.length;b++){if(v["actions clicked"][g[b]]){continue
}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b],(function(link){return function(){state.history[0].variables["actions clicked"][link]=true}}(g[b])));insertText(c,g[b])}}};version.extensions.printMacro={major:1,minor:1,revision:1};macros.print={handler:function(place,macroName,params,parser){var args=parser.fullArgs(macroName!="print"),output;try{output=internalEval(args);if(output!=null&&(typeof output!="number"||!isNaN(output))){new Wikifier(place,""+output)}}catch(e){throwError(place,"<<print>> bad expression: "+params.join(" "),parser.fullMatch())}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,parser){macros.set.run(a,parser.fullArgs(),parser,c.join(" "))},run:function(a,expression,parser,original){try{return internalEval(expression)}catch(e){throwError(a,"bad expression: "+(original||expression),parser?parser.fullMatch():expression)}}};version.extensions.ifMacros={major:2,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var conditions=[],clauses=[],rawConds=[],srcOffset=parser.source.indexOf(">>",parser.matchStart)+2,src=parser.source.slice(srcOffset),endPos=-1,rawCond=params.join(" "),currentCond=parser.fullArgs(),currentClause="",t=0,nesting=0,i=0;for(;i<src.length;i++){if((src.substr(i,6)=="<<else")&&!nesting){rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);currentClause="";t=src.indexOf(">>",i+6);if(src.substr(i+6,4)==" if "||src.substr(i+6,3)=="if "){rawCond=src.slice(i+9,t);currentCond=Wikifier.parse(rawCond)}else{rawCond="";currentCond="true"}i=t+2}if(src.substr(i,5)=="<<if "){nesting++
}if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting<0){endPos=srcOffset+i+9;rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);break}}currentClause+=src.charAt(i)}if(endPos!=-1){parser.nextMatch=endPos;try{for(i=0;i<clauses.length;i++){if(internalEval(conditions[i])){new Wikifier(place,clauses[i]);break}}}catch(e){throwError(place,"<<"+(i?"else ":"")+"if>> bad condition: "+rawConds[i],!i?parser.fullMatch():"<<else if "+rawConds[i]+">>")}}else{throwError(place,"I can't find a matching <<endif>>",parser.fullMatch())}}};macros["else"]=macros.elseif=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:2,minor:0,revision:0};macros.remember={handler:function(place,macroName,params,parser){var variable,value,re,match,statement=params.join(" ");macros.set.run(place,parser.fullArgs(),null,params.join(" "));if(!window.localStorage){throwError(place,"<<remember>> can't be used "+(window.location.protocol=="file:"?" by local HTML files ":"")+" in this browser.",parser.fullMatch());return}re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1];value=state.history[0].variables[variable];try{value=JSON.stringify(value)}catch(e){throwError(place,"can't <<remember>> the variable $"+variable+" ("+(typeof value)+")",parser.fullMatch());return}window.localStorage[this.prefix+variable]=value}},init:function(){var i,variable,value;if(tale.has("StoryTitle")){this.prefix="Twine."+tale.title+"."}else{this.prefix="Twine.Untitled Story."}for(i in window.localStorage){if(i.indexOf(this.prefix)==0){variable=i.substr(this.prefix.length);value=window.localStorage[i];try{value=JSON.parse(value);state.history[0].variables[variable]=value}catch(e){}}}},expire:null,prefix:null};version.extensions.forgetMacro={major:1,minor:0,revision:0};macros.forget={handler:function(place,macroName,params){var re,match,variable,statement=params.join(" ");re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1]+"";delete state.history[0].variables[variable];delete window.localStorage[macros.remember.prefix+variable]}}};version.extensions.SilentlyMacro={major:1,minor:1,revision:0};macros.nobr=macros.silently={handler:function(place,macroName,f,parser){var i,h=insertElement(null,"div"),k=parser.source.indexOf(">>",parser.matchStart)+2,a=parser.source.slice(k),d=-1,c="",l=0;for(i=0;i<a.length;i++){if(a.substr(i,macroName.length+7)=="<<end"+macroName+">>"){if(l==0){d=k+i+macroName.length+7;break}else{l--
}}else{if(a.substr(i,macroName.length+4)=="<<"+macroName+">>"){l++
}}if(macroName=="nobr"&&a.charAt(i)=="\n"){c+="\u200c"}else{c+=a.charAt(i)}}if(d!=-1){new Wikifier(macroName=="nobr"?place:h,c);parser.nextMatch=d}else{throwError(place,"can't find matching <<end"+macroName+">>",parser.fullMatch())}}};macros.endsilently={handler:function(){}};version.extensions.choiceMacro={major:2,minor:0,revision:0};macros.choice={callback:function(){var i,other,passage=findPassageParent(this);if(passage){other=passage.querySelectorAll(".choice");for(i=0;i<other.length;i++){other[i].outerHTML="<span class=disabled>"+other[i].innerHTML+"</span>"}state.history[0].variables["choice clicked"][passage.id.replace(/\|[^\]]*$/,"")]=true}},handler:function(A,C,D,parser){var link,id,match,text=D[1]||D[0].split("|")[0],passage=findPassageParent(A);if(!passage){throwError(A,"<<"+C+">> can't be used here.",parser.fullMatch());return}id=(passage&&passage.id.replace(/\|[^\]]*$/,""));if(id&&(state.history[0].variables["choice clicked"]||(state.history[0].variables["choice clicked"]={}))[id]){insertElement(A,"span",null,"disabled",text)}else{match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){link=Wikifier.linkFormatter.makeLink(A,match,this.callback)}else{link=Wikifier.linkFormatter.makeLink(A,[0,text,D[0]],this.callback)}link.className+=" "+C}}};version.extensions.backMacro={major:2,minor:0,revision:0};macros.back={labeltext:"&#171; back",handler:function(a,b,e,parser){var labelParam,c,el,labeltouse=this.labeltext,steps=1,stepsParam=e.indexOf("steps"),stepsParam2="";if(stepsParam>0){stepsParam2=e[stepsParam-1];if(stepsParam2[0]=="$"){try{stepsParam2=internalEval(Wikifier.parse(stepsParam2))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}steps=+stepsParam2;if(steps>=state.history.length-1){steps=state.history.length-2}e.splice(stepsParam-1,2)}labelParam=e.indexOf("label");if(labelParam>-1){if(!e[labelParam+1]){throwError(a,parser.fullMatch()+": "+e[labelParam]+" keyword needs an additional label parameter",parser.fullMatch());return}labeltouse=e[labelParam+1];e.splice(labelParam,2)}if(stepsParam<=0){if(e[0]){if(e[0].charAt(0)=="$"){try{e=internalEval(Wikifier.parse(e[0]))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}else{e=e[0]}if(!tale.has(e)){throwError(a,'The "'+e+'" passage does not exist',parser.fullMatch());return}for(c=0;c<state.history.length;c++){if(state.history[c].passage.title==e){steps=c;break}}}}el=document.createElement("a");el.className=b;addClickHandler(el,(function(b){return function(){return macros.back.onclick(b=="back",steps,el)}}(b)));el.innerHTML=labeltouse;a.appendChild(el)}};version.extensions.returnMacro={major:2,minor:0,revision:0};macros["return"]={labeltext:"&#171; return",handler:function(a,b,e){macros.back.handler.call(this,a,b,e)}};version.extensions.textInputMacro={major:2,minor:0,revision:0};macros.checkbox=macros.radio=macros.textinput={handler:function(A,C,D,parser){var match,class_=C.replace("input","Input"),q=A.querySelectorAll("input"),id=class_+"|"+((q&&q.length)||0);input=insertElement(null,"input",id,class_);input.name=D[0];input.type=C.replace("input","");A.appendChild(input);if(C=="textinput"&&D[1]){match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,macros.button.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,(D[2]||D[1]),D[1]],macros.button.callback,"button")}}else{if((C=="radio"||C=="checkbox")&&D[1]){input.value=D[1];insertElement(A,"label","","",D[1]).setAttribute("for",id);if(D[2]){insertElement(A,"br");D.splice(1,1);macros[C].handler(A,C,D)}}}}};version.extensions.buttonMacro={major:1,minor:0,revision:0};macros.button={callback:function(){var el=findPassageParent(this);if(el){var inputs=el.querySelectorAll("input");for(i=0;i<inputs.length;i++){if(inputs[i].type!="checkbox"&&(inputs[i].type!="radio"||inputs[i].checked)){macros.set.run(null,Wikifier.parse(inputs[i].name+' = "'+inputs[i].value.replace(/"/g,'\\"')+'"'))}else{if(inputs[i].type=="checkbox"&&inputs[i].checked){macros.set.run(null,Wikifier.parse(inputs[i].name+" = [].concat("+inputs[i].name+" || []);"));macros.set.run(null,Wikifier.parse(inputs[i].name+'.push("'+inputs[i].value.replace(/"/g,'\\"')+'")'))}}}}},handler:function(A,C,D,parser){var link,match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,this.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,D[1]||D[0],D[0]],this.callback,"button")}}};function Passage(c,b,a,ofunc){var t;if(!this||this.constructor!=Passage){throw new ReferenceError("passage() must be in lowercase")}this.title=c;ofunc=typeof ofunc=="function"&&ofunc;if(b){this.id=a;this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){if(ofunc){this.tags=ofunc(this.tags)}this.tags=this.tags.readBracketedList()}else{this.tags=[]}t=b.firstChild?b.firstChild.nodeValue:"";if(ofunc&&!this.isImage()){this.text=ofunc(Passage.unescapeLineBreaks(t))}else{this.text=Passage.unescapeLineBreaks(t)}if(!this.isImage()){this.preloadImages()}if(/\.char\b|\[data\-char\b/.exec(this.text)&&Wikifier.charSpanFormatter){Wikifier.formatters.push(Wikifier.charSpanFormatter);delete Wikifier.charSpanFormatter}}else{this.text="@@This passage does not exist: "+c+"@@";this.tags=[]}}Passage.prototype.isImage=function(){return !!~(this.tags.indexOf("Twine.image"))};Passage.prototype.preloadImages=function(){var u="\\s*['\"]?([^\"'$]+\\.(jpe?g|a?png|gif|bmp|webp|svg))['\"]?\\s*",k=function(c,e){var i,d;do{d=c.exec(this.text);if(d){i=new Image();i.src=d[e]}}while(d);return k};k.call(this,new RegExp(Wikifier.imageFormatter.lookahead.replace("[^\\[\\]\\|]+",u),"mg"),4).call(this,new RegExp("url\\s*\\("+u+"\\)","mig"),1).call(this,new RegExp("src\\s*="+u,"mig"),1)};Passage.unescapeLineBreaks=function(a){if(a&&typeof a=="string"){return a.replace(/\\n/mg,"\n").replace(/\\t/mg,"\t").replace(/\\s/mg,"\\").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""
}};Passage.prototype.setTags=function(b){var t=this.tags!=null&&this.tags.length?this.tags.join(" "):"";if(t){b.setAttribute("data-tags",this.tags.join(" "))}document.body.setAttribute("data-tags",t)};Passage.prototype.processText=function(){var ret=this.text;if(~this.tags.indexOf("nobr")){ret=ret.replace(/\n/g,"\u200c")}if(this.isImage()){ret="[img["+ret+"]]"}return ret};function Tale(){var a,b,c,lines,i,kv,nsc,isImage,settings=this.storysettings={lookup:function(a,dfault){if(!(a in this)){return dfault
}return(this[a]+"")!="off"}},tiddlerTitle="";window.tale=this;this.passages={};if(document.normalize){document.normalize()}a=document.getElementById("storeArea").children;for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&c.getAttribute("tiddler")=="StorySettings"){lines=new Passage("StorySettings",c,0,null,null).text.split("\n");for(i in lines){if(typeof lines[i]=="string"&&lines[i].indexOf(":")>-1){kv=lines[i].toLowerCase().split(":");kv[0]=kv[0].replace(/^\s+|\s+$/g,"");kv[1]=kv[1].replace(/^\s+|\s+$/g,"");if(kv[0]!="lookup"){settings[kv[0]]=kv[1]}}}}}if(settings.obfuscate=="rot13"){for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){isImage=(c.getAttribute("tags")+"").indexOf("Twine.image")>-1;if(tiddlerTitle!="StorySettings"&&!isImage){tiddlerTitle=rot13(tiddlerTitle)}this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b+1,!isImage&&rot13)
}}}else{for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b,null,null)}}}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(var i in this.passages){if(this.passages[i].id==a){return true
}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(var i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"
}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.canUndo=function(){return this.storysettings.lookup("undo",true)};Tale.prototype.identity=function(){var meta=document.querySelector("meta[name='identity']"),identity=meta?meta.getAttribute("content"):"story";return(Tale.prototype.identity=function(){return identity
})()};Tale.prototype.forEachStylesheet=function(tags,callback){var passage,i;tags=tags||[];if(typeof callback!="function"){return
}for(passage in this.passages){passage=tale.passages[passage];if(passage&&~passage.tags.indexOf("stylesheet")){for(i=0;i<tags.length;i++){if(~passage.tags.indexOf(tags[i])){callback(passage);break}}}}};Tale.prototype.setPageElements=function(){var storyTitle,defaultTitle="The Fog";setPageElement("storyTitle","StoryTitle",defaultTitle);storyTitle=document.getElementById("storyTitle");document.title=this.title=(storyTitle&&(storyTitle.textContent||storyTitle.innerText))||defaultTitle;setPageElement("storySubtitle","StorySubtitle","");if(tale.has("StoryAuthor")){setPageElement("titleSeparator",null,"\n");setPageElement("storyAuthor","StoryAuthor","")}if(tale.has("StoryMenu")){document.getElementById("storyMenu").setAttribute("style","");setPageElement("storyMenu","StoryMenu","")}};function Wikifier(place,source){this.source=source;this.output=place;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.textPrimitives={upperLetter:"[A-Z\u00c0-\u00de\u0150\u0170]",lowerLetter:"[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]",anyLetter:"[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"};Wikifier.textPrimitives.variable="\\$((?:"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*"+Wikifier.textPrimitives.anyLetter.replace("0-9\\-","")+"+"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*)+)";Wikifier.textPrimitives.unquoted="(?=(?:[^\"'\\\\]*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^'\"]*$)";Wikifier.prototype.assembleFormatterMatches=function(formatters){this.formatters=[];var pattern=[];for(var n=0;n<formatters.length;n++){pattern.push("("+formatters[n].match+")");this.formatters.push(formatters[n])}this.formatterRegExp=new RegExp(pattern.join("|"),"mg")};Wikifier.prototype.subWikify=function(output,terminator){var terminatorMatch,formatterMatch,oldOutput=this.output;this.output=output;var terminatorRegExp=terminator?new RegExp("("+terminator+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(terminatorRegExp){terminatorRegExp.lastIndex=this.nextMatch}formatterMatch=this.formatterRegExp.exec(this.source);terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null;if(terminatorMatch&&(!formatterMatch||terminatorMatch.index<=formatterMatch.index)){if(terminatorMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,terminatorMatch.index)}this.matchStart=terminatorMatch.index;this.matchLength=terminatorMatch[1].length;this.matchText=terminatorMatch[1];this.nextMatch=terminatorMatch.index+terminatorMatch[1].length;this.output=oldOutput;return}else{if(formatterMatch){if(formatterMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,formatterMatch.index)}this.matchStart=formatterMatch.index;this.matchLength=formatterMatch[0].length;this.matchText=formatterMatch[0];this.nextMatch=this.formatterRegExp.lastIndex;var matchingFormatter=-1;for(var t=1;t<formatterMatch.length;t++){if(formatterMatch[t]){matchingFormatter=t-1;break}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(terminatorMatch||formatterMatch);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=oldOutput};Wikifier.prototype.outputText=function(place,startPos,endPos){if(place){insertText(place,this.source.substring(startPos,endPos))}};Wikifier.prototype.fullMatch=function(){return this.source.slice(this.matchStart,this.source.indexOf(">>",this.matchStart)+2)};Wikifier.prototype.fullArgs=function(includeName){var source=this.source.replace(/\u200c/g," "),endPos=this.nextMatch-2,startPos=source.indexOf(includeName?"<<":" ",this.matchStart);if(!~startPos||!~endPos||endPos<=startPos){return""
}return Wikifier.parse(source.slice(startPos+(includeName?2:1),endPos).trim())};Wikifier.parse=function(input){var m,re,b=input,found=[],g=Wikifier.textPrimitives.unquoted;function alter(from,to){b=b.replace(new RegExp(from+g,"gim"),to);return alter}re=new RegExp(Wikifier.textPrimitives.variable+g,"gi");while(m=re.exec(input)){if(!~found.indexOf(m[0])){b=m[0]+" == null && ("+m[0]+" = 0);"+b;found.push(m[0])}}alter(Wikifier.textPrimitives.variable,"state.history[0].variables.$1")("\\beq\\b"," == ")("\\bneq\\b"," != ")("\\bgt\\b"," > ")("\\bgte\\b"," >= ")("\\blt\\b"," < ")("\\blte\\b"," <= ")("\\band\\b"," && ")("\\bor\\b"," || ")("\\bnot\\b"," ! ")("\\bis\\b"," == ")("\\bto\\b"," = ");return b};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(w){var s,v,lookaheadMatch,gotMatch,styles=[],lookahead=Wikifier.styleByCharFormatter.lookahead,lookaheadRegExp=new RegExp(lookahead,"mg"),hadStyle=false,unDash=function(str){var s=str.split("-");if(s.length>1){for(var t=1;t<s.length;t++){s[t]=s[t].substr(0,1).toUpperCase()+s[t].substr(1)}}return s.join("")};styles.className="";do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);gotMatch=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(gotMatch){hadStyle=true;if(lookaheadMatch[5]){styles.className+=lookaheadMatch[5].replace(/\./g," ")+" "}else{if(lookaheadMatch[1]){s=unDash(lookaheadMatch[1]);v=lookaheadMatch[2]}else{s=unDash(lookaheadMatch[3]);v=lookaheadMatch[4]}}switch(s){case"bgcolor":s="backgroundColor";break;case"float":s="cssFloat";break}styles.push({style:s,value:v});w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}while(gotMatch);return styles},monospacedByLineHelper:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){insertElement(w.output,"pre",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{"c":"caption","h":"thead","":"tbody","f":"tfoot"},handler:function(w){var rowContainer,rowElement,lookaheadMatch,matched,table=insertElement(w.output,"table"),lookaheadRegExp=new RegExp(this.lookahead,"mg"),currRowType=null,nextRowType,prevColumns=[],rowCount=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source),matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){nextRowType=lookaheadMatch[2];if(nextRowType!=currRowType){rowContainer=insertElement(table,this.rowTypes[nextRowType])}currRowType=nextRowType;if(currRowType=="c"){if(rowCount==0){rowContainer.setAttribute("align","top")}else{rowContainer.setAttribute("align","bottom")}w.nextMatch=w.nextMatch+1;w.subWikify(rowContainer,this.rowTerminator)}else{rowElement=insertElement(rowContainer,"tr");this.rowHandler(w,rowElement,prevColumns)}rowCount++}}while(matched)},rowHandler:function(w,e,prevColumns){var cellMatch,matched,col=0,currColCount=1,cellRegExp=new RegExp(this.cellPattern,"mg");do{cellRegExp.lastIndex=w.nextMatch;cellMatch=cellRegExp.exec(w.source);matched=cellMatch&&cellMatch.index==w.nextMatch;if(matched){if(cellMatch[1]=="~"){var last=prevColumns[col];if(last){last.rowCount++;last.element.setAttribute("rowSpan",last.rowCount);last.element.setAttribute("rowspan",last.rowCount);last.element.valign="center"}w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[1]==">"){currColCount++;w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}else{var spaceLeft=false,spaceRight=false,lastColCount,lastColElement,styles,cell,t;w.nextMatch++;styles=Wikifier.formatHelpers.inlineCssHelper(w);while(w.source.substr(w.nextMatch,1)==" "){spaceLeft=true;w.nextMatch++}if(w.source.substr(w.nextMatch,1)=="!"){cell=insertElement(e,"th");w.nextMatch++}else{cell=insertElement(e,"td")}prevColumns[col]={rowCount:1,element:cell};lastColCount=1;lastColElement=cell;if(currColCount>1){cell.setAttribute("colSpan",currColCount);cell.setAttribute("colspan",currColCount);currColCount=1}for(t=0;t<styles.length;t++){cell.style[styles[t].style]=styles[t].value}w.subWikify(cell,this.cellTerminator);if(w.matchText.substr(w.matchText.length-2,1)==" "){spaceRight=true
}if(spaceLeft&&spaceRight){cell.align="center"}else{if(spaceLeft){cell.align="right"}else{if(spaceRight){cell.align="left"}}}w.nextMatch=w.nextMatch-1}}}col++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(w){insertElement(w.output,"hr")}},{name:"emdash",match:"--",becomes:String.fromCharCode(8212),handler:function(a){insertElement(a.output,"span",null,"char",this.becomes).setAttribute("data-char","emdash")}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(w){var e=insertElement(w.output,"h"+w.matchLength);w.subWikify(e,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){var e=insertElement(w.output,"blockquote");w.subWikify(e,this.terminator)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",handler:function(w){var newType,newLevel,t,len,bulletType,lookaheadMatch,matched,lookaheadRegExp=new RegExp(this.lookahead,"mg"),placeStack=[w.output],currType=null,currLevel=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){newLevel=lookaheadMatch[0].length;if(lookaheadMatch[1]){bulletType=lookaheadMatch[1].slice(-1);newType="ul"}else{if(lookaheadMatch[2]){newType="ol"
}}w.nextMatch+=newLevel;if(newLevel>currLevel){for(t=currLevel;t<newLevel;t++){placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}else{if(newLevel<currLevel){for(t=currLevel;t>newLevel;t--){placeStack.pop()}}else{if(newLevel==currLevel&&newType!=currType){placeStack.pop();placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}}currLevel=newLevel;currType=newType;t=insertElement(placeStack[placeStack.length-1],"li");if(bulletType&&bulletType!="*"){t.setAttribute("data-bullet",bulletType)}w.subWikify(t,this.terminator)}}while(matched)}},(Wikifier.urlFormatter={name:"urlLink",match:"(?:https?|mailto|javascript|ftp|data):[^\\s'\"]+(?:/|\\b)",handler:function(w){var e=Wikifier.createExternalLink(w.output,w.matchText);w.outputText(e,w.matchStart,w.nextMatch)}}),(Wikifier.linkFormatter={name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|]*?)(?:\\|(.*?))?\\](?:\\[(.*?)])?\\]",makeInternalOrExternal:function(out,title,callback,type){if(title&&!tale.has(title)&&(title.match(Wikifier.urlFormatter.match,"g")||~title.search(/[\.\\\/#]/))){return Wikifier.createExternalLink(out,title,callback,type)
}else{return Wikifier.createInternalLink(out,title,callback,type)}},makeCallback:function(code,callback){return function(){macros.set.run(null,Wikifier.parse(code),null,code);typeof callback=="function"&&callback.call(this)}},makeLink:function(out,match,callback2,type){var link,title,callback;if(match[3]){callback=this.makeCallback(match[3],callback2)}else{typeof callback2=="function"&&(callback=callback2)}title=Wikifier.parsePassageTitle(match[2]||match[1]);link=this.makeInternalOrExternal(out,title,callback,type);setPageElement(link,null,match[2]?match[1]:title);return link},handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){this.makeLink(w.output,lookaheadMatch);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),(Wikifier.imageFormatter={name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]?)(>?)img\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",importedImage:function(img,passageName){var imgPassages,imgname;try{imgname=internalEval(Wikifier.parse(passageName))}catch(e){}if(!imgname){imgname=passageName
}imgPassages=tale.lookup("tags","Twine.image");for(j=0;j<imgPassages.length;j++){if(imgPassages[j].title==imgname){img.src=imgPassages[j].text;break}}},handler:function(w){var e,img,j,lookaheadMatch,lookaheadRegExp=new RegExp(this.lookahead,"mig");lookaheadRegExp.lastIndex=w.matchStart;lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){e=w.output,title=Wikifier.parsePassageTitle(lookaheadMatch[5]);if(title){e=Wikifier.linkFormatter.makeInternalOrExternal(w.output,title)}img=insertElement(e,"img");if(lookaheadMatch[1]){img.align="left"}else{if(lookaheadMatch[2]){img.align="right"}}if(lookaheadMatch[3]){img.title=lookaheadMatch[3]}this.importedImage(img,lookaheadMatch[4]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),{name:"macro",match:"<<",lookahead:/<<([^>\s]+)(?:\s*)((?:\\.|'(?:[^'\\]*\\.)*[^'\\]*'|"(?:[^"\\]*\\.)*[^"\\]*"|[^'"\\>]|>(?!>))*)>>/mg,handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead);lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source.replace(/\u200c/g,"\n"));if(lookaheadMatch&&lookaheadMatch.index==w.matchStart&&lookaheadMatch[1]){var params=lookaheadMatch[2].readMacroParams();w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length;var name=lookaheadMatch[1];try{var macro=macros[name];if(macro&&typeof macro=="object"&&macro.handler){macro.handler(w.output,name,params,w)}else{if(name[0]=="$"){macros.print.handler(w.output,name,[name].concat(params),w)}else{if(tale.has(name)){macros.display.handler(w.output,name,[name].concat(params),w)}else{throwError(w.output,'No macro or passage called "'+name+'"',w.fullMatch())}}}}catch(e){throwError(w.output,"Error executing macro "+name+": "+e.toString(),w.fullMatch())}}}},{name:"html",match:"<html>",lookahead:"<html>((?:.|\\n)*?)</html>",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"span");e.innerHTML=lookaheadMatch[1];w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"code",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},(Wikifier.styleByCharFormatter={name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:([^\\.:@]+):([^;\\|\\n]+);)|(?:\\.([^;\\|\\n]+);)",handler:function(w){var e=insertElement(w.output,"span",null,null,null);var styles=Wikifier.formatHelpers.inlineCssHelper(w);if(styles.length==0){e.className="marked"}else{for(var t=0;t<styles.length;t++){e.style[styles[t].style]=styles[t].value}if(typeof styles.className=="string"){e.className=styles.className}}w.subWikify(e,this.terminator)}}),{name:"lineBreak",match:"\\n",handler:function(w){insertElement(w.output,"br")}},{name:"continuedLine",match:"\\\\\\s*?\\n",handler:function(a){a.nextMatch=a.matchStart+2}},{name:"htmlCharacterReference",match:"(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",handler:function(w){var el=document.createElement("div");el.innerHTML=w.matchText;insertText(w.output,el.textContent)}},{name:"htmltag",match:"<(?:\\/?[\\w\\-]+|[\\w\\-]+(?:(?:\\s+[\\w\\-]+(?:\\s*=\\s*(?:\\\".*?\\\"|'.*?'|[^'\\\">\\s]+))?)+\\s*|\\s*)\\/?)>",tagname:"<(\\w+)",voids:["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],tableElems:["table","thead","tbody","tfoot","th","tr","td","colgroup","col","caption","figcaption"],cleanupTables:function(e){var i,name,elems=[].slice.call(e.children);for(i=0;i<elems.length;i++){if(elems[i].tagName){name=elems[i].tagName.toLowerCase();if(this.tableElems.indexOf(name)==-1){elems[i].outerHTML=""}else{if(["col","caption","figcaption","td","th"].indexOf(name)==-1){this.cleanupTables.call(this,elems[i])}}}}},handler:function(a){var tmp,passage,setter,e,isvoid,isstyle,lookaheadRegExp,lookaheadMatch,lookahead,re=new RegExp(this.tagname).exec(a.matchText),tn=re&&re[1]&&re[1].toLowerCase();if(tn&&tn!="html"){lookahead="<\\/\\s*"+tn+"\\s*>";isvoid=(this.voids.indexOf(tn)!=-1);isstyle=tn=="style"||tn=="script";lookaheadRegExp=new RegExp(lookahead,"mg");lookaheadRegExp.lastIndex=a.matchStart;lookaheadMatch=lookaheadRegExp.exec(a.source);if(lookaheadMatch||isvoid){if(isstyle){e=document.createElement(tn);e.type="text/css";tmp=a.source.slice(a.nextMatch,lookaheadMatch.index);e.styleSheet?(e.styleSheet.cssText=tmp):(e.innerHTML=tmp);a.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}else{e=document.createElement(a.output.tagName);e.innerHTML=a.matchText;while(e.firstChild){e=e.firstChild}if(!isvoid){a.subWikify(e,lookahead)}}if(e.tagName.toLowerCase()=="table"){this.cleanupTables.call(this,e)}if(setter=e.getAttribute("data-setter")){setter=Wikifier.linkFormatter.makeCallback(setter)}if(passage=e.getAttribute("data-passage")){if(tn!="img"){addClickHandler(e,Wikifier.linkFunction(Wikifier.parsePassageTitle(passage),e,setter));if(tn=="area"||tn=="a"){e.setAttribute("href","javascript:;")}}else{Wikifier.imageFormatter.importedImage(e,passage)}}a.output.appendChild(e)}else{throwError(a.output,"HTML tag '"+tn+"' wasn't closed.",a.matchText)}}}}];Wikifier.charSpanFormatter={name:"char",match:"[^\n]",handler:function(a){insertElement(a.output,"span",null,"char",a.matchText).setAttribute("data-char",a.matchText==" "?"space":a.matchText=="\t"?"tab":a.matchText)}};Wikifier.parsePassageTitle=function(title){if(title&&!tale.has(title)){try{title=(internalEval(this.parse(title))||title)+""}catch(e){}}return title};Wikifier.linkFunction=function(title,el,callback){return function(){if(state.rewindTo){var passage=findPassageParent(el);if(passage&&passage.parentNode.lastChild!=passage){state.rewindTo(passage,true)}}state.display(title,el,null,callback)}};Wikifier.createInternalLink=function(place,title,callback,type){var tag=(type=="button"?"button":"a"),suffix=(type=="button"?"Button":"Link"),el=insertElement(place,tag);if(tale.has(title)){el.className="internal"+suffix;if(visited(title)){el.className+=" visited"+suffix}}else{el.className="broken"+suffix}addClickHandler(el,Wikifier.linkFunction(title,el,callback));if(place){place.appendChild(el)}return el};Wikifier.createExternalLink=function(place,url,callback,type){var tag=(type=="button"?"button":"a"),el=insertElement(place,tag);el.href=url;el.className="external"+(type=="button"?"Button":"Link");el.target="_blank";if(typeof callback=="function"){addClickHandler(el,callback)}if(place){place.appendChild(el)}return el};function visited(e){var ret=0,i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(ret=state.history.length;i<arguments.length;i++){ret=Math.min(ret,visited(arguments[i]))}}else{for(;i<state.history.length&&state.history[i].passage;i++){if(e==state.history[i].passage.title){ret++
}}}return ret}function visitedTag(){var i,j,sh,ret=0,tags=Array.prototype.slice.call(arguments);if(tags.length==1&&typeof tags[0]=="string"){tags=tags.split(" ")}if(!state){return 0
}sh=state.history;for(i=0;i<sh.length&&sh[i].passage;i++){for(j=0;j<tags.length||void ret++;j++){if(sh[i].passage.tags.indexOf(tags[j])==-1){break
}}}return ret}var visitedTags=visitedTag;function turns(){return state.history.length-1}function passage(){return state.history[0].passage.title}function tags(e){var ret=[],i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(i=arguments.length-1;i>=1;i--){ret=ret.concat(tags(arguments[i]))}}ret=ret.concat(tale.get(e).tags);return ret}function previous(){if(state&&state.history[1]){for(var d=1;d<state.history.length&&state.history[d].passage;d++){if(state.history[d].passage.title!=state.history[0].passage.title){return state.history[d].passage.title}}}return""}function random(a,b){var from,to;if(!b){from=0;to=a}else{from=Math.min(a,b);to=Math.max(a,b)}to+=1;return ~~((Math.random()*(to-from)))+from}function either(){if(Array.isArray(arguments[0])&&arguments.length==1){return either.apply(this,arguments[0])}return arguments[~~(Math.random()*arguments.length)]}function parameter(n){n=n||0;if(macros.display.parameters[n]){return macros.display.parameters[n]}return 0}function bookmark(){return state.hash||"#"}function internalEval(s){return eval("0,"+s)}function scriptEval(s){try{eval(s.text)}catch(e){alert("There is a technical problem with this "+tale.identity()+" ("+s.title+": "+e.message+")."+softErrorMessage)}}window.onbeforeunload=function(){if(tale&&tale.storysettings.lookup("exitprompt",false)&&state&&state.history.length>1){return"You are about to end this "+tale.identity()+"."}};var oldOnError=window.onerror||null,softErrorMessage="You may be able to continue playing, but some parts may not work properly.";window.onerror=function(msg,a,b,c,error){var s=(error&&(".\n\n"+error.stack.replace(/\([^\)]+\)/g,"")+"\n\n"))||(" ("+msg+").\n");alert("Sorry to interrupt, but this "+((tale&&tale.identity&&tale.identity())||"page")+"'s code has got itself in a mess"+s+softErrorMessage.slice(1));window.onerror=oldOnError;if(typeof window.onerror=="function"){window.onerror(msg,a,b,c,error)}};var $;function main(){$=window.$||function(a){return(typeof a=="string"?document.getElementById(a):a)
};var imgs,scripts,macro,style,i,styleText="",passages=document.getElementById("passages");function sanityCheck(thing){var i,j,s="NOTE: The "+thing,checks={prerender:prerender,postrender:postrender,macros:macros};for(i in checks){if(Object.prototype.hasOwnProperty.call(checks,i)&&!sanityCheck[i]){if(!checks[i]||typeof checks[i]!="object"){alert(s+" seems to have corrupted the "+i+" object."+softErrorMessage);sanityCheck[i]=true;continue}if(i!="macros"){for(j in checks[i]){if(Object.prototype.hasOwnProperty.call(checks[i],j)&&typeof checks[i][j]!="function"){alert(s+" added a property '"+j+"' to "+i+", "+"which is a "+typeof checks[i][j]+", not a function."+softErrorMessage);sanityCheck[i]=true;break}}}}}if(!sanityCheck.display){if(History.prototype.display.length<4&&!~History.prototype.display.toString().indexOf("arguments")){alert(s+" contains a function that patches History.prototype.display, but takes the wrong number of arguments."+softErrorMessage)}sanityCheck.display=true}}if(!window.JSON||!document.querySelector){return(passages.innerHTML="This "+tale.identity()+" requires a newer web browser. Sorry.")}else{passages.innerHTML=""}tale=window.tale=new Tale();if(~document.documentElement.className.indexOf("lt-ie9")){imgs=tale.lookup("tags","Twine.image");for(i=0;i<imgs.length;i++){if(imgs[i].text.length>=32768){alert("NOTE: This "+tale.identity()+"'s HTML file contains embedded images that may be too large for this browser to display."+softErrorMessage);break}}}scripts=tale.lookup("tags","script");for(i=0;i<scripts.length;i++){scriptEval(scripts[i]);sanityCheck('script passage "'+scripts[i].title+'"')}state=window.state=new History();for(i in macros){macro=macros[i];if(typeof macro.init=="function"){macro.init();sanityCheck('init() of the custom macro "'+i+'"')}}style=document.getElementById("storyCSS");for(i in tale.passages){i=tale.passages[i];if(i.tags.indexOf("stylesheet")==-1){continue
}if(i.tags+""=="stylesheet"){styleText+=i.text}else{if(i.tags.length==2&&i.tags.indexOf("transition")>-1){setTransitionCSS(i.text)}}}styleText=alterCSS(styleText);style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText);state.init()}setTimeout(function f(){var size,bar=document.getElementById("loadingbar"),store=document.getElementById("storeArea");if(!bar){return
}if(store){size=store.getAttribute("data-size");if(store.children.length<=size&&!tale){bar.style.width=~~((store.children.length+1)/size*100)+"%"}else{bar.outerHTML="";return}}setTimeout(f,5)},5);

var hasPushState=!!window.history&&(typeof window.history.pushState=="function")&&(function(a){try{a.setItem("test","1");a.removeItem("test");return true}catch(e){return false
}}(window.sessionStorage));Tale.prototype.canBookmark=function(){return this.canUndo()&&!this.storysettings.lookup("hash")&&(this.storysettings.lookup("bookmark",true)||!hasPushState)};History.prototype.init=function(){var a=this;if(!this.restore()){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display("Start",null)}if(!hasPushState){this.hash=window.location.hash;this.interval=window.setInterval(function(){a.watchHash()},250)}};hasPushState&&(History.prototype.pushState=function(replace,uri){window.history[replace?"replaceState":"pushState"]({id:this.id,length:this.history.length},document.title,uri)});History.prototype.display=function(title,source,type,callback){var i,e,q,bookmark,hash,c=tale.get(title),p=document.getElementById("passages");if(c==null){return
}if(type!="back"){this.saveVariables(c,source,callback);hash=(tale.storysettings.lookup("hash")&&this.save())||"";if(hasPushState&&tale.canUndo()){try{sessionStorage.setItem("Twine.History"+this.id,JSON.stringify(decompile(this.history)));this.pushState(this.history.length<=2&&window.history.state=="",hash)}catch(e){alert("Your browser couldn't save the state of the "+tale.identity()+".\n"+"You may continue playing, but it will no longer be possible to undo moves from here on in.");tale.storysettings.undo="off"}}}this.hash=hash||this.save();e=c.render();if(type!="quietly"){if(hasTransition){for(i=0;i<p.childNodes.length;i+=1){q=p.childNodes[i];q.classList.add("transition-out");setTimeout((function(a){return function(){if(a.parentNode){a.parentNode.removeChild(a)}}}(q)),1000)}e.classList.add("transition-in");setTimeout(function(){e.classList.remove("transition-in")},1);e.style.visibility="visible";p.appendChild(e)}else{removeChildren(p);p.appendChild(e);fade(e,{fade:"in"
})}}else{p.appendChild(e);e.style.visibility="visible"}tale.setPageElements();if(tale.canUndo()){if(!hasPushState&&type!="back"){window.location.hash=this.hash}else{if(tale.canBookmark()){bookmark=document.getElementById("bookmark");bookmark&&(bookmark.href=this.hash)}}}window.scroll(0,0);return e};History.prototype.watchHash=function(){if(window.location.hash!=this.hash){if(window.location.hash&&(window.location.hash!="#")){this.history=[{passage:null,variables:{}}];removeChildren(document.getElementById("passages"));if(!this.restore()){alert("The passage you had previously visited could not be found.")}}else{window.location.reload()}this.hash=window.location.hash}};History.prototype.loadLinkVars=function(){for(var c in this.history[0].linkVars){this.history[0].variables[c]=clone(this.history[0].linkVars[c])}};Passage.prototype.render=function(){var b=insertElement(null,"div","passage"+this.title,"passage");b.style.visibility="hidden";this.setTags(b);this.setCSS();insertElement(b,"div","","header");var a=insertElement(b,"div","","body content");for(var i in prerender){(typeof prerender[i]=="function")&&prerender[i].call(this,a)}new Wikifier(a,this.processText());insertElement(b,"div","","footer");for(i in postrender){(typeof postrender[i]=="function")&&postrender[i].call(this,a)}return b};Passage.prototype.excerpt=function(){var b=this.text.replace(/<<.*?>>/g,"");b=b.replace(/!.*?\n/g,"");b=b.replace(/[\[\]\/]/g,"");var a=b.split("\n");while(a.length&&a[0].length==0){a.shift()}var c="";if(a.length==0||a[0].length==0){c=this.title}else{c=a[0].substr(0,30)+"..."}return c};Passage.transitionCache="";Passage.prototype.setCSS=function(){var trans=false,text="",tags=this.tags||[],c=document.getElementById("tagCSS"),c2=document.getElementById("transitionCSS");if(c&&c.getAttribute("data-tags")!=tags.join(" ")){tale.forEachStylesheet(tags,function(passage){if(~passage.tags.indexOf("transition")){if(!Passage.transitionCache&&c2){Passage.transitionCache=c2.innerHTML}setTransitionCSS(passage.text);trans=true}else{text+=alterCSS(passage.text)}});if(!trans&&Passage.transitionCache&&c2){setTransitionCSS(Passage.transitionCache);trans=false;Passage.transitionCache=""}c.styleSheet?(c.styleSheet.cssText=text):(c.innerHTML=text);c.setAttribute("data-tags",tags.join(" "))}};var Interface={init:function(){var snapback=document.getElementById("snapback"),restart=document.getElementById("restart"),bookmark=document.getElementById("bookmark");main();if(!tale){return
}if(snapback){if(!tale.lookup("tags","bookmark").length){snapback.parentNode.removeChild(snapback)}else{addClickHandler(snapback,Interface.showSnapback)}}if(bookmark&&(!tale.canBookmark()||!hasPushState)){bookmark.parentNode.removeChild(bookmark)}restart&&addClickHandler(restart,Interface.restart)},restart:function(){if(confirm("Are you sure you want to restart this "+tale.identity()+"?")){state.restart()}},showSnapback:function(a){Interface.hideAllMenus();Interface.buildSnapback();Interface.showMenu(a,document.getElementById("snapbackMenu"))},buildSnapback:function(){var b,c=false,menuelem=document.getElementById("snapbackMenu");while(menuelem.hasChildNodes()){menuelem.removeChild(menuelem.firstChild)}for(var a=state.history.length-1;a>=0;a--){if(state.history[a].passage&&state.history[a].passage.tags.indexOf("bookmark")!=-1){b=document.createElement("div");b.pos=a;addClickHandler(b,function(){return macros.back.onclick(true,this.pos)});b.innerHTML=state.history[a].passage.excerpt();menuelem.appendChild(b);c=true}}b=null;if(!c){b=document.createElement("div");b.innerHTML="<i>No passages available</i>";document.getElementById("snapbackMenu").appendChild(b)}},hideAllMenus:function(){document.getElementById("snapbackMenu").style.display="none"},showMenu:function(b,a){if(!b){b=window.event}var c={x:0,y:0};if(b.pageX||b.pageY){c.x=b.pageX;c.y=b.pageY}else{if(b.clientX||b.clientY){c.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}}a.style.top=c.y+"px";a.style.left=c.x+"px";a.style.display="block";addClickHandler(document,Interface.hideAllMenus);b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}}};window.onload=Interface.init;macros.back.onclick=function(back,steps){var title;if(back){if(tale.canUndo()){window.history.go(-steps);return}while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}else{state.display(state.history[steps].passage.title)}};window.onpopstate=function(e){var title,hist,steps,i,s=e&&e.state;if(s&&s.id&&s.length!=null){hist=recompile(JSON.parse(sessionStorage.getItem("Twine.History"+s.id)));if(hist){steps=hist.length-s.length}}if(steps!=null){state.history=hist;while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}};

testplay = "";

}());
</script>
<script title="modules">


</script>
<style id="baseCSS">
/* Sidebar */
#sidebar {
	position: fixed;
	list-style: none;
	width: 12em;
}
#sidebar #title, #sidebar #credits  {
	cursor: auto;
}
#sidebar #storySubtitle, #sidebar #storyMenu {
	display: block;
}
.menu {
	position: absolute;
	display: none;
	z-index: 5;
}
/* Passages container */
#passages {
	margin-left: 18.2em;
	position:relative;
}
/* Links */
.passage a {
	color: #4d6ad8;
}
a.internalLink, a.externalLink, a.back, a.return, [data-passage], .menu div {
	cursor: pointer;
}
a.brokenLink {
	background-color: red;
	color: #000;
}
.marked {
	background-color: #f66;
	color: #000;
}
.marked[title] {
	cursor: help;
}
.passage li[data-bullet] {
	list-style-type: none;
}
.passage li[data-bullet]:before {
	content: attr(data-bullet);
	position: relative;
	left: -1em;
}
#storeArea {
	display: none;
}
#noscript {
	margin-left: 18.2em;
	font-size: 1.2em;
	font-weight: bold;
}
/* HTML4 compatibility */
img {
	vertical-align:bottom;
}
@media screen and (max-width: 640px) {
	#sidebar {
		position: static;
		margin: 0 auto;
		padding: 0;
	}
	body #sidebar li  {
		text-align: center;
	}
	#passages {
		min-height: 100vh;
		margin-left: 0em;
	}
}
#loadingbar {
	position:fixed;
	top:0;
	left:0;
	border-top: solid #4d6ad8 6px;
	transition: width 0.5s;
}
</style>
<style id="defaultCSS">
body {
	background-color: #000;
	color: #fff;
	font-family: Verdana,sans-serif;
	font-size: 62.5%;
	margin: 4em 15% 5% 5em;
}
#sidebar {
	left: 7.5em;
	margin: 0;
	padding: 0 1em 0 0;
	font: bold 1.1em Verdana,sans-serif;
}
#sidebar ul {
	padding: 0;
}
#sidebar li {
	color: #333;
	text-align: right;
	background-repeat: no-repeat;
	margin-bottom: 1em;
	line-height: 1.4em;
	list-style: none;
}
#sidebar li a {
	color: #333;
	text-decoration: none;
}
#sidebar li a:hover, #sidebar #title a:hover, #snapback:hover, #restart:hover {
	color: #fff;
	cursor: pointer;
	text-decoration: none;
}
#sidebar #title {
	font-size: 150%;
}
#sidebar #title, #sidebar #title:hover, #sidebar #title a {
	color: #999;
}
#sidebar #storySubtitle {
	font-size: 75%;
}
#storyAuthor {
	font-size: 50%;
}
#sidebar #storyMenu {
	line-height: 2.5em;
	margin-bottom: .5em;
	color: #999;
	cursor: auto;
}
#sidebar #credits {
	padding-top: 2em;
	font-weight: normal;
	font-size: 80%;
}
#sidebar #credits:hover {
	color: #333;
}
#sidebar #credits a {
	text-decoration: none;
}
#passages {
	border-left: 1px solid #333;
	padding-left: 1.5em;
}
.menu {
	background-color: #343434;
	color: #fff;
	opacity: .9;
	border: 1px solid #fff;
	text-align: left;
	font: 1.1em Verdana;
	line-height: 2em;
}
.menu div {
	padding: 0 .4em;
}
.menu div:hover {
	cursor: pointer;
	background-color: #fff;
	color: #343434;
}
.passage {
	font-size: 1.2em;
	line-height: 175%;
	margin-bottom: 2em;
	text-align: left;
}
.passage a {
	font-weight: bold;
	text-decoration: none;
}
.passage a:hover {
	color: #8ea6ff;
	text-decoration: underline;
}
.content > ul {
	padding-top: 1.3em;
}
.passage ul, .passage ol {
	margin-left: .5em;
	padding-left: 1.5em;
}
.passage li {
	margin-right: 6em;
}
.passage table {
	border-collapse: collapse;
	font-size: 100%;
	margin: .8em 1.0em;
}
.passage th,.passage td,.passage tr,.passage caption {
	padding: 3px;
}
.passage hr {
	height: 1px;
}
.passage center {
	max-width:50%;
	margin:auto;
}
.marked {
	margin-right: 12px;
	padding: 3px;
}
.disabled {
	font-weight: bold;
	color: #333;
}
@media screen and (max-width: 640px) {
	body {
		margin: 5%;
	}
	#sidebar {
		width:100%;
		margin: 0;
		border-bottom: 1px solid #333;
	}
	#passages {
		padding-top: 2em;
		border-left: 0;
	}
}
</style>
<style id="transitionCSS">
.transition-in {
	opacity:0;
	position:absolute;
}
.passage:not(.transition-out) {
	transition: 1s;
	-webkit-transition: 1s;
}
.transition-out {
	opacity:0 !important;
	position:absolute;
}
</style>
<style id="storyCSS"></style>
<style id="tagCSS"></style>
</head>
<body>
<div id="loadingbar"></div>
<ul id="sidebar">
<li id="title" class="storyElement"><span id="storyTitle" class="storyElement"></span><span id="storySubtitle" class="storyElement"></span><span id="titleSeparator"></span><span id="storyAuthor" class="storyElement"></span></li>
<li id="storyMenu" class="storyElement" style="display:none"></li>
<li><a href="javascript:;" id="snapback">Rewind</a></li>
<li><a href="javascript:;" id="restart">Restart</a></li>
<li><a id="bookmark" title="Permanent link to this passage">Bookmark</a></li>
<li id="credits">
This story was created with <a href="http://twinery.org/">Twine</a> and is powered by <a href="http://tiddlywiki.com/">TiddlyWiki</a>
</li>
</ul>
<div id="snapbackMenu" class="menu"></div>
<div id="passages">
<noscript><div id="noscript">Please enable Javascript to play this story!</div></noscript>
<style>
#sidebar{display:none;}
</style>
</div>
<div id="storeArea" data-size="97" hidden><div tiddler="Lair" tags="" created="201602031831" modifier="twee" twine-position="1700,3132">The caves below are barely lit. It is dank and reeks horribly with a stench that makes you gag almost immediately&lt;&lt;if $shroud eq true&gt;&gt; even with the face mask on.&lt;&lt;else&gt;&gt; with violent force.&lt;&lt;endif&gt;&gt; Voices begin to whisper in your head and continually grow louder the farther you get into the cave. You hear many languages, some you believe aren't known to man  and are beyond comprehension. Through it all you hear the chant: come forth for enlightenment&lt;&lt;if $nameOn eq true&gt;&gt;, &lt;&lt;print $name&gt;&gt;.&lt;&lt;else&gt;&gt;&lt;&lt;endif&gt;&gt;.\n\nYou feel terrified as you hear screeching laughter that claws at your eyes, of perhaps unlimited entities.\n&lt;&lt;if $shroud eq true&gt;&gt;\n[[Try to Resist]]\n&lt;&lt;else&gt;&gt;\n[[Continue On|Monster]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="&quot;Stop!&quot;" tags="" created="201601301558" modifier="twee" twine-position="923,994">The knight smashes his club down with enough force to crush you instantly. Before dying you swear you hear him say &lt;&lt;if $nameOn eq true&gt;&gt;&quot;&lt;&lt;print $name&gt;&gt; you are cursed...&quot;&lt;&lt;else&gt;&gt;&quot;you are cursed...&lt;&lt;endif&gt;&gt;&quot; Perhaps reason wasn't the way to deal with the situation.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Attack it" tags="" created="201602061458" modifier="twee" twine-position="1349,3518">You decide that whatever it is, it's better off dead and it could be the cause for the City to have fallen so low. You rush forward and you are immediately overtaken.\n\nWhatever this creature is, it is beyond your comprehension and attacking it with weapons made my man would do nothing.\n&lt;&lt;if $artifact eq true&gt;&gt;\n[[Speak to it]]&lt;&lt;else&gt;&gt;\nYour shroud cannot save you. There is a rush of fog that flows into your mouth and your conscious is torn apart by the influx of information and emotional disparty. You lose yourself through the madness that ensues.\n\n[[The End]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="King's Room" tags="" created="201602010105" modifier="twee" twine-position="751,1234">&lt;&lt;if $queenDead eq true&gt;&gt;The Queen's body lay silently on the ground with black blood forming a thick and smelly pool. You notice a book on the bed.\nGo to [[Living Quarters]]\n[[Search the Room]]\n&lt;&lt;if $artifact eq true&gt;&gt;[[Living Quarters]]&lt;&lt;else&gt;&gt;[[Read the book]]&lt;&lt;endif&gt;&gt;&lt;&lt;else&gt;&gt;You enter a grand sized room. It is lavish with large, gold decorated furniture, and a bed large enough to fit a family. The flashy decorations are tarnished however, with more of the black blood. What immediately catches your attention however is a female stained with ample amounts of black blood. You can tell its the Queen by her layers of jewelry and and the expensive dress, but you also notice he bulge in her stomach; she is pregnant.\n\nShe slowly turns to face you, sharpened teeth and all. She sways side to side yelling &quot;It's all your fault! Alexei-&quot; but then breaks off into agitated gargling sounds with a crazed twitching.\n\n[[Close the door and barricade her in|Living Quarters Full Block]]\n\n[[Attack her]]\n\n[[Try to reason with her]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Town Square" tags="" created="201601301517" modifier="twee" twine-position="450,624">As you approach you see a crowd of people all screaming at one another, trying to beat each other down. There are people of various demographics and it is horrid, nearly making you vomit at the sight of it. What is happening in this City?\n\nSneak past West [[City Walkway West]]\n\nSneak past South [[City Gates]]\n\nSneak past East to [[City Walkway East]]\n&lt;&lt;if $doorOpened eq true&gt;&gt;\nSneak past North to [[Palace-Main]]&lt;&lt;else&gt;&gt;\nSneak past North to [[Palace Gate]]\n&lt;&lt;endif&gt;&gt;\n[[Approach Townspeople]]\n\n</div><div tiddler="Plunge your sword in deeper" tags="" created="201601301606" modifier="twee" twine-position="1108,862">&lt;&lt;set $knightKilled=true&gt;&gt;\n\nYou grasp your blade and plunge it deeper into his body with every ounce of your strength and his body stops moving, standing still. Black blood drips down onto your blade and you can confirm that he is dead.\n\n[[Examine his body]]\n[[Take his keys]]</div><div tiddler="&quot;Your Highness!&quot;" tags="" created="201602010133" modifier="twee" twine-position="1417,1348">The Queen immediately freezes in place. She begins to cry profusely.\n\n[[Console her]]\n\n[[Stab with your sword]]</div><div tiddler="No" tags="" created="201601312337" modifier="twee" twine-position="10,431">You decide against concealing your identity.\n\nHead North to the [[City Gates]]\nHead South to go [[Home]]</div><div tiddler="Evil" tags="" created="201602031720" modifier="twee" twine-position="1125,2879">You approach the King with no sense of awareness. You begin to wildy hack away at him with each sword hitting flesh. You feel rage and anger begin to take over your body and your every movement. This is not you, you have succumbed to the madness that has overtaken the city. \n\nYour mind is forever lost to you.\n\n[[The End]]</div><div tiddler="Strike him again" tags="" created="201602031705" modifier="twee" twine-position="1184,2604">You rush forward with two more strikes. One disarms the child while the other slashes across his chest gushes out warm red blood onto the interior walls. \n\nHe remains standing however barely it is, swaying slowly side to side with his sword pointed towards you at a downward angle; you can tell his strength is quickly leaving his body.\n\n&lt;&lt;if $shroud eq true&gt;&gt;\n[[Spare him]]\n&lt;&lt;else&gt;&gt;\n[[Kill him]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Living Quarters Full Block" tags="" created="201602010119" modifier="twee" twine-position="930,1389">You slam the door shut and attempt to use your weight to hold it shut.\n\n[[Stab sword through the door]]\n\n[[Wait out the Assualt]]</div><div tiddler="Continue Listening" tags="" created="201602031753" modifier="twee" twine-position="1571,2514">He continues: &quot;We then began hearing widespread reports of residents going insane and filling with a bloodlust. The city streets became deserted as those who have lost their minds began to mercilessly murder anybody within their way. My mother was the first in our family to succumb to this madness and I quickly took my father with me after locking away the artifact in his safebox and barricading mother in his room for her own good as well as for the baby she is carrying.&quot;\n\n[[Continue Listening|Part 2]]\n\n[[Attack the King's son]]\n\n[[Attack the King]]</div><div tiddler="StoryTitle" tags="" created="201601301342" modifier="twee" twine-position="17,151">The Fog</div><div tiddler="City Walkway West" tags="" created="201601301517" modifier="twee" twine-position="270,794">You arrive in the West City Walkway. To the west is just a dead end while to the East lies the Town Square. On the North side lies the royal walls which surroundsthe royal palace. To the South side are the City Slum buildings.\n\nIt is quiet and you feel as though every step forward is attracting unwanted attention. However, the road is vacant as well although you can see faint silhouettes in the distance at the town square.\n\nContinue to the East to the [[Town Square]].\nGo South to [[City Slums Alley]]</div><div tiddler="Approach Townspeople" tags="" created="201601301531" modifier="twee" twine-position="589,630">You try to approach the crowd and are instantly tackled down from the side. They continue to mercilessly assault you before you can even get a chance to defend yourself.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Head East to the Silhouetted Building" tags="" created="201602031615" modifier="twee" twine-position="887,2042">As you approach the building, you begin to smell a familiar and pungent stench: the black blood. The building is made of a fortified stone but the entrance to the building seems to be somewhat weakened due to heavy thrashing. There is a large golden rhino carving decorating the top of the doorway.\n\nThere are claw marks of black blood etched deep into the doorway but a keyhole on the door remains intact. The claw marks themselves seem to be of varying sizes from human to unknown.\n\n&lt;&lt;if $fortKey eq true&gt;&gt;Unlock the Door and Enter the [[Fortified Building]]\n\nGo West to the [[Graveyard]]\n&lt;&lt;else&gt;&gt;&lt;&lt;if $barricade eq true&gt;&gt;The King's son took it upon himself to barricade the doors. You cannot find a way to enter. Go West to the [[Graveyard]]&lt;&lt;else&gt;&gt;The door is locked and their is no way of entering.\n\nGo to the [[Graveyard]]\n&lt;&lt;endif&gt;&gt;\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Shroud your face" tags="" created="201601312336" modifier="twee" twine-position="257,16">Are you sure? This decision may make your quest more difficult.\n\n[[Yes]]\n\n[[No]]</div><div tiddler="Stab with your sword" tags="" created="201602010131" modifier="twee" twine-position="1041,1248">You attempt to stab the Queen with your sword as she beings to start charging you. Your blade pierces her chest but she pushes herself further and further down the blade, then beginning to assault you heavily with long claws before going into an all out frenzy. You feel taking cover may have been the better option.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Unlock the Door" tags="" created="201601301653" modifier="twee" twine-position="348,947">&lt;&lt;set $doorOpened=true&gt;&gt;The gigantic doors creep open as you enter the key in. \n&lt;&lt;if $shroud eq true&gt;&gt;(You feel as if you're hearing voices but look around to see nothing)&lt;&lt;endif&gt;&gt;\nHead North to the [[Palace-Main]]\n\nHead South to [[Town Square]]</div><div tiddler="City Slums Alley (Cleared)" tags="" created="201601301521" modifier="twee" twine-position="681,446">As you head forth the street is deserted. The buildings all look as if no one inhabited them with a few of them lying in ruin.\n\nYou feel as though you're being watched.\n\nHead back West to the [[City Gates]]\nContinue North to the [[City Walkway West]]</div><div tiddler="Approach the scream" tags="" created="201602031644" modifier="twee" twine-position="963,2322">You begin to walk forward and as you do the screaming stops and you hear &quot;Please Gods, have mercy upon us!&quot; A torch is lit and you are shocked by what you see.\n\nThere stands a young man, probably about 19 years old. Behind him is a decrepit, weak, white eyed old wrinkly man. But his features are indistinguishable. He is King. Memories of your deceased family overflow your mind.\n\nThe young man, who you presume is the King's son is shaking but not from madness but rather inexplicable fear.&lt;&lt;if $shroud eq true&gt;&gt;\n[[Talk to the King's son]]\n\n[[Attack the King's son]]\n\n[[Attack the King]]\n&lt;&lt;else&gt;&gt;You begin to feel rage surge through you. The voices in your head grow louder and louder until you begin to lose all sense of your surroundings. There is only one thought going through you mind right now:[[revenge.|Attack the King's son]] You will have it no matter what.\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Attack the King's son" tags="" created="201602031655" modifier="twee" twine-position="1074,2461">You decide that the man you wanted dead the most is right before you, with an obstacle in the way that must be cleared no matter the cost. You charge sword first striking his son in the chest. He recoils and screams in pain, it is obviously his first ever sword fight. He continually screams out questioning your motives.\n\nHe remains standing however, shaking with his sword pointed towards you in an attempt to fight you off.\n\n[[Strike him again]]</div><div tiddler="Fortified Building" tags="" created="201602031638" modifier="twee" twine-position="749,2191">You enter the building and the fog  begins to creep in. You hear a scream before you can make out anybody in the dark and dank room. The room from what you can tell has furniture and  it stretches down farther than you can tell. You also begin to hear crazed whispers from the same location.\n\n[[Approach the scream]]\n\nHead West to [[Graveyard]]</div><div tiddler="Throw a poison Knife" tags="" created="201601301548" modifier="twee" twine-position="826,485">It was a foolish attempt as your knife found no flesh to hit, as it bounces off his armor. In an instant the knight smashes down his club, crushing your body under its immense weight.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Examine the black blood" tags="" created="201602010021" modifier="twee" twine-position="35,1492">As you get closer to the blood, the stench of the massive amount of it begins to make you cough a bit.\n\n&lt;&lt;if $shroud eq true&gt;&gt;[[Slowly back away |Kitchen]]\n&lt;&lt;else&gt;&gt; The feel as though the blood is calling to you somehow. The voices you heard earlier at the gate begin to return but in force. Your vision begins to blur as your thoughts begin to fill with unsightly horrors and the voices continually grow louder.\n\nYou are feeling your body rapidly change as you begin to go mad and all you've known begins to escape you. You are consumed by the madness.\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Living Room" tags="" created="201601312357" modifier="twee" twine-position="206,1494">You enter the living room. Papers are laid all across the floor with black blood spewed across the furniture. You notice two pieces of paper with red markings on the ground that catch your eye.\n\n[[Read the paper about the King's Voyage|Read the paper]]\n\n[[Read the paper about the Mercenary Traitor|Read the paper 2]]</div><div tiddler="Try to Resist" tags="" created="201602051536" modifier="twee" twine-position="2056,3339">The voices continue to call out and get more excited, becoming more violent. &lt;&lt;if $artifact eq true&gt;&gt;You are strangely drawn to them and become more and more desparate to reach the end of the cave.\n\n[[Continue On|Monster]]\n&lt;&lt;else if $shroud eq true&gt;&gt;[[Continue On|Monster]]\n&lt;&lt;else&gt;&gt;You begin to cough violently and feel more and more agitated. The fog rushes into your mouth and you feel a wide range of rageful emotions. You begin to lose yourself and become consumed by whatever unknown horror lies ahead.\n\n[[The End]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Question Him" tags="" created="201601301438" modifier="twee" twine-position="746,256">You ask him: &quot;What is happening here? Who are you?&quot;\n\nHe quickly begins dash towards you, clever in hand. He is moving erratically.\n\n[[Attempt to run back to the Town Square]]\n[[Attack the man with your sword]]</div><div tiddler="Move aside, I am here for that man's life." tags="" created="201602031732" modifier="twee" twine-position="1526,2185">The King's son gets into a fighting stance, prepared to block your path to the King. You can tell by his stance and his apparent shaking that he is an amateur at best or pampered at worst.\n\nHe says &quot;Please leave us be! I do not know what business you have with my father but I will not idly stand by as you murder him!&quot;\n\n[[Spare their lives]]\n\n[[Retract your statement|Talk to the King's son]]\n\n[[Attack the King regardless|Attack the King]]\n\n[[Attack the King's son]]</div><div tiddler="Evade backwards" tags="" created="201601301606" modifier="twee" twine-position="1118,564">You evade back but are forced to leave your sword deeply enlodged in his body. He misses his grasp but picks up the club again, beginning to approach you. Fleeing is not an option.\n\n[[Throw a poison Knife]]\nReach for and [[Plunge your sword in deeper]]</div><div tiddler="Read the paper" tags="" created="201602010037" modifier="twee" twine-position="418,1479">You begin to read the paper.&lt;&lt;if $shroud eq true&gt;&gt;The title is labeled &quot;Strange Occurences&quot; \n\nThe first page reads: &quot;After the treasure hunting party has returned with the strange artifact, this thick and heavy fog has descended upon the town. Few reports of insanity among the commoners has began to surface as well. We are putting the sitting in a state of high alert for now.&quot;\n\n[[Continue Reading]]\n[[Stop Reading]]\n&lt;&lt;else&gt;&gt; The title is labeled &quot;Strange Occυяεпcεƨ&quot; \n\nAs you look down what made sense just a second ago begins to evade you. The text on the page is shiftly ever so slight, with the language it is written in being foreign, one that seems unknown to you in your travels. As you flip through pages,the text shifts more and more.\n\n[[Stop Reading]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Use poison knives" tags="" created="201602010131" modifier="twee" twine-position="1181,1248">You throw a poison knife striking directly in her throat. It was a foolish attempt as she rushes you and immediately overpowers you. She begins a frenzied assault and you feel taking cover may have been the better option.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Part 3" tags="" created="201602031806" modifier="twee" twine-position="1759,2153">He manages to control himself and concludes his story: &quot;My father went completely insane after separation with the artifact. He continues to talk to himself in a language I have yet to understand. Shortly after I locked us in here, something began to beat heavily on the door and I was terrified as my father began to desperately reach for the door. I had to hold him down and wait until the banging stopped. This banging on the door has been happening for days now...&quot;\n\n[[Spare their lives]]\n\nSay [[Move aside, I am here for that man's life.]]\n\n[[Attack the King's son]]\n\n[[Attack the King]]</div><div tiddler="Part 2" tags="" created="201602031758" modifier="twee" twine-position="1753,2384">He continues: &quot;From what I hear, everyone quickly began to hear voices in their heads except for those lucky enough to cover their mouths shortly after the fog descended. Those who began hearing the voices went insane and are all that's left of the city. My father suffered a similar but odd fate-&quot; He begins to cry, overtaken by his grief.\n\n[[Continue Listening|Part 3]]\n\n[[Attack the King's son]]\n\n[[Attack the King]]</div><div tiddler="Kitchen" tags="" created="201601312357" modifier="twee" twine-position="118,1349">&lt;&lt;set $beastAppears=true&gt;&gt;You enter the kitchen and are surprised in the stark contrast from the main room. It is a mess with utensils, plates and furniture thrown all about the room. You see a strange liquid oozing down the walls heavily-its the same as black blood of the Knight  from earlier.\n\nYou quickly catch sight of large but quick figure dart across the doorway in the main palace room and head up the stairs.\n\nGo to [[Palace-Main]]\n\n[[Examine the black blood]]</div><div tiddler="Read the paper 2" tags="" created="201602062022" modifier="twee" twine-position="93,1751">&lt;&lt;if $shroud eq true&gt;&gt;You read an article's who title is named: &quot;Punishment of the Mercenary Traitor&quot;\n\n&quot;The King has recently ordered the execution of the famous mercenary&lt;&lt;if $nameOn eq true&gt;&gt; &lt;&lt;print $name&gt;&gt;'s family&lt;&lt;else&gt;&gt; &quot;The Shrouded Baron&quot;'s family&lt;&lt;endif&gt;&gt; on the charges of crimes against the King.&quot;\n\n&quot;This person has been hired help for the opposing Kingdoms and is seen as a threat to the well being of this City. To send a message to him, the King has decided to order the public execution of the son and partner...&quot;\n\nAttached are papers of the executed people. You feel remorse as you see the pictues of the dead.\n[[Stop Reading]]&lt;&lt;else&gt;&gt;The title is labeled &quot;Punishment of the Mercenary էгձﻨէօг&quot; \n\nAs you look down what made sense just a second ago begins to evade you. The text on the page is shiftly ever so slight, with the language it is written in being foreign, one that seems unknown to you in your travels. As you flip through pages,the text shifts more and more.\n\nHowever, attached are papers of the executed people. You feel remorse and anger as you see the pictues of the dead.\n[[Stop Reading]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="City Gates" tags="" created="201601301348" modifier="twee" twine-position="137,479">&lt;audio src=&quot;1.wav&quot; autoplay&gt;&lt;/audio&gt; You hear the town bell off in the distance, but its sound is particularly chilling this day.\n\nYou approached the city gates to see that the fog has thickened greatly and visiblity is restricted to only a few meters. You cover your mouth with rags. The town is silent with the exception of faint yelling in the distance. No lights are on but there are faint silhouettes in the at the Town Square to the North. \n\nThe way to the East is blocked off by crude barricades made of various furniture.\n\nHead North to [[Town Square]]\n\nHead West to [[City Slums Alley]]\n\nHead South back to the [[Start]] of your journey.\n\n\n&lt;html&gt;&lt;IMG SRC=&quot;fog.jpg&quot;&gt;&lt;/html&gt; </div><div tiddler="&quot;Queen Elise, stop!&quot;" tags="" created="201602010133" modifier="twee" twine-position="1372,1529">She swiftly darts across the room, hitting you with the force of a catapault shot. She furiously begins to assail in all open areas. Perhaps that wasn't the right thing to say?\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Alley End" tags="" created="201601301430" modifier="twee" twine-position="747,99">As you approach the end of the Alley you hear the grumbling turn into excited yells and screams as a man appears from the shadows with a bloodied clever. He is shaking furiously, drooling heavily, and is breathing rapidly. \n\nHe slowly begins to approach you with bloodied but distant eyes.\nYou are unsure of your chances of survival.\n\n[[Question Him]]\n[[Attack the man with your sword]]\n[[Throw a poison knife at him]]\nRun back to [[City Gates]]</div><div tiddler="Impale him with your sword" tags="" created="201601301548" modifier="twee" twine-position="996,722">You plunge your sword deep into his chest, but hear no screams of pain. Instead the knight drops his club and calmy begins to reach for your head.\n\n[[Do nothing]]\n[[Evade backwards]]\n[[Plunge your sword in deeper]]</div><div tiddler="Attack the King" tags="" created="201602031655" modifier="twee" twine-position="1074,2181">You immediately rush to strike the King with your sword, disregarding his son's presence. You feel all the hatred and anger you had for him build up inside you as you plunge your blade deep within his throat.\n\nAs you see the life drain from his eyes, you feel an immediate and numbing pain in your chest. As you turn around you see a scared and regretful stare meet your own. The King's son screams in grief at the act he has just committed and you begin to feel life fading from you.\n\nYou died getting revenge, but was it really worth leaving a child fatherless and alone in the horror that approaches?\n\n[[The End]]</div><div tiddler="Cellar door" tags="" created="201602031609" modifier="twee" twine-position="586,2136">The fog gets denser as you approach and you begin to hear voices from within your head. You see a huge cellar door and descend down into the [[depths below|Lair]].</div><div tiddler="Take his keys" tags="" created="201601301614" modifier="twee" twine-position="567,1058">&lt;&lt;set $keyCollected=true&gt;&gt;\n\nYou grab the keys, but carefully as you fear he may reanimate.\n\nGo North to [[City Walkway East]]</div><div tiddler="Kill him" tags="" created="201602031710" modifier="twee" twine-position="906,2741">&lt;&lt;set $sonDead=true&gt;&gt;&lt;&lt;if $spare eq true&gt;&gt;You plunge your sword deep into his heart with deep regret. Tears begin to roll down his eyes and he yelps more and more quietly with each and every passing breathe.\n\nYou see the same look of despair, angst and confusion in his eyes that you saw in your now deceased son on the night of his execution.\n\n[[Kill the King| Good]]\n\n[[Spare the King]]&lt;&lt;else&gt;&gt; You plunge your sword into his body with blind rage and disregard for human life. \n\nTears begin to roll down his eyes and he yelps more and more quietly with each and every passing breathe. \n\nYour anger is not satisfied and you avert your attention to the King himself.\n\n[[Kill the King|Evil]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Talk to the King's son" tags="" created="201602031655" modifier="twee" twine-position="1282,2329">You try to speak to the King's son in a relaxing way as to disarm him. He begins to calm down but remains rather alert and fearful. What do you say or do?\n\n[[What is happening in this town?]]\n\n[[Move aside, I am here for that man's life.]]\n\n[[Attack the King's son]]</div><div tiddler="Do nothing" tags="" created="201601301606" modifier="twee" twine-position="1269,624">He grasps your head and squeezes tightly with inhuman strength as you desperately begin clawing at his armor plated arms to no avail.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Home" tags="" created="201601301508" modifier="twee" twine-position="147,209">You decide your journey of revenge is suicidal at best and not worth the effort. You will have to live with the memories of your family's execution but in the end you will live.\n</div><div tiddler="Yes" tags="" created="201601312337" modifier="twee" twine-position="9,579">&lt;&lt;set $shroud=true&gt;&gt;You tightly wrap cloth around your mouth.\n\nHead North to the [[City Gates]]\nHead South to go [[Home]]</div><div tiddler="Refuse the offer" tags="" created="201602062002" modifier="twee" twine-position="2318,4031">The creature says: &quot;ƬӇЄƝ ƳƠƲ ƧӇƛԼԼ ƧƲƑƑЄƦ ƛƧ ƬӇЄƳ ƛԼԼ ӇƛƔЄ...&quot; It shifts its slimy bodily mass slighty...\n\nThen suddenly you feel what could only be described as an infitinie amount of years of suffering flow through your mind. You see great kings, lowly peasants, priests, earlier humans all at the same time as your mind is instantly flooded. And they all carry an odd golden shaped object with them. And what quickly followed are visions of this creature invading lands, driving men, women and children mad.\n\nYour mind is utterly torn apart by what you've tried to comprehend. You feel everything numb and become nonsensical; you've lost yourself.\n\n[[The End]]</div><div tiddler="Alley End(Cleared)" tags="" created="201601301645" modifier="twee" twine-position="1086,374">You see the man's still corpse laying there.\n\n[[Examine the body]]\nHead South to the [[Town Square]]\nContinue North to the [[City Walkway West]].</div><div tiddler="Spare him" tags="" created="201602031710" modifier="twee" twine-position="1356,2570">&lt;&lt;set $spare eq true&gt;&gt;\nYou begin to feel more regret as you begin to overcome your actions. It is too late however as sparing him now would msot certainly lead to a long and painfull death.\n\n[[Mercy Kill him|Kill him]]</div><div tiddler="Continue Reading" tags="" created="201602010046" modifier="twee" twine-position="500,1621">You read the following from an article titled &quot;King's Bounty&quot;:\n\n&quot;The king was amazed with the artifact. Some would say it's the kingdom's greatest treasure! It is large and made of a mineral so precious our scholars are baffled to what it could be! The king remains with it in his possession at all times and has declared it a national treasure.&quot;\n\n[[Stop Reading]]</div><div tiddler="Throw a poison knife at him" tags="" created="201601312321" modifier="twee" twine-position="606,238">&lt;&lt;set $manKilled=true&gt;&gt;You swiftly strike him with a poison knife. His movement rapidly slows to a crawl, then he stands lifeless; you can see a facial expression of angst and sorrow as he plummets to the ground with a thump.\n\nFurther down the path to the North is the city walkway.\n\n[[Examine the body]]\nHead South to the [[City Gates]]\nContinue North to the [[City Walkway West]].</div><div tiddler="Start" tags="" created="201601301342" modifier="twee" twine-position="16,18">&lt;&lt;set $knightKilled&gt;&gt;&lt;&lt;set $manKilled&gt;&gt;&lt;&lt;set $keyCollected&gt;&gt;&lt;&lt;set $doorOpened&gt;&gt;&lt;&lt;set $shroud&gt;&gt;&lt;&lt;set $beastAppears&gt;&gt;&lt;&lt;set $queenDead&gt;&gt;&lt;&lt;set $artifact&gt;&gt;&lt;&lt;set $explosive&gt;&gt;&lt;&lt;set $fortKey&gt;&gt;&lt;&lt;set $spare&gt;&gt;&lt;&lt;set $barricade&gt;&gt;&lt;&lt;set $sonDead&gt;&gt;&lt;&lt;set $nameOn&gt;&gt;Haunted by the execution of your family, you seek the King of a nearby City to exact your revenge. You carry a thick sword and a holster an arsenal of poisonous knives. As for your appearance you have taken care to shroud you face with a hood and you are equipped with heavy armor under rags of cloth.\n\nYou notice a thickand slgihtly red fog has consumed the City. You think nothing of it. To the North lies the City and to the South your home.\n\nYou think of shrouding part of your face to conceal your identity but you heavily risk drawing unwanted attention.\nDo you wish to shroud your face (by covering your mouth)?\n\n[[Shroud your face]]\n\nHead North to the [[City Gates]]\n\nHead South to go [[Home]]\n&lt;&lt;if $nameOn eq true&gt;&gt;&lt;&lt;else&gt;&gt;\n[[Name Your Character?]]\n&lt;&lt;endif&gt;&gt;\n[[About Page]]</div><div tiddler="Palace Gate" tags="" created="201601301528" modifier="twee" twine-position="461,790">There is a big hulking gate in your way. It appears to be locked but perhaps there is a key nearby you can find?\n\n&lt;&lt;if $keyCollected eq true&gt;&gt;\n\t[[Unlock the Door]]\n&lt;&lt;else&gt;&gt;\n\tGo back South to [[Town Square]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Approach Knight" tags="" created="201601301543" modifier="twee" twine-position="826,625">As you inch closer, it is obvious that he is aware of your presence. He begins to raise his heavy club over his head.\n\n[[Throw a poison Knife]]\nRun North to the [[City Walkway East]]\n[[Impale him with your sword]]\n[[Attempt to reason with the Knight]]</div><div tiddler="Try to reason with her" tags="" created="201602010119" modifier="twee" twine-position="1226,1390">What do you say?\n\n[[&quot;Your Highness!&quot;]]\n\n[[&quot;Queen Elise, stop!&quot;]]\n\n[[Don't try to reason|King's Room]]</div><div tiddler="Take the artifact" tags="" created="201602010201" modifier="twee" twine-position="1417,1901">&lt;&lt;set $artifact=true&gt;&gt;You look under the bed and find a small lever, hidden cleverly within the fine wooden framing underneath the bed. You pull it and a small hole in the ground begins to open up and within it you find a golden box decorated with carvings of eyes. You take it out and begin to pry it open. What's inside baffles you. It is exactly as decsribed in the journal but its material is unknown but yet feels like you've craved it all your life. You hastily bury it in your pockets.\n\n[[Return to looking at the room|King's Room]]\n\nGo to [[Living Quarters]]</div><div tiddler="Graveyard" tags="" created="201602010106" modifier="twee" twine-position="763,1790">Climbing your way back up seems impossible from here. The fog is the heaviest here. You see a huge mass, which is impossible to make out in this fog. Its silhouette disappears into the ground with no sound. Its presence highly disturbs you however,  &lt;&lt;if $artifact eq true&gt;&gt;but you begin to feel  drawn to it&lt;&lt;else&gt;&gt;as you begin to feel a sense of anger and despair flow through you. You begin to quickly pull yourself together.&lt;&lt;endif&gt;&gt; There is a silhouette of a building to the East.\n\n&lt;&lt;if $sonDead eq true&gt;&gt;\n[[Head in the direction of the Mass|Cellar door]]\n&lt;&lt;else&gt;&gt;\n[[Head East to the Silhouetted Building]]\n\n[[Head in the direction of the Mass|Cellar door]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Console her" tags="" created="201602010136" modifier="twee" twine-position="1488,1144">&lt;&lt;set $queenDead=true&gt;&gt;As you approach to console her, she immedaitely screams and begins to start ramming into the wall violently until she remains still on the ground. What a terrible scene.\n\n[[Proceed|King's Room]]</div><div tiddler="Name Your Character?" tags="" created="201602051434" modifier="twee" twine-position="1459,51">&lt;&lt;set $nameOn=true&gt;&gt;What is your adventurer's name?\n\n&lt;&lt;textinput $name [[Submit|Start]]&gt;&gt;</div><div tiddler="Wait out the Assualt" tags="" created="201602010121" modifier="twee" twine-position="1040,1577">You try to keep the door shut as best you could. You clearly underestimated her as she pummels the door down and continues to assail you with inhuman strength. She cries and breathes heavily and you feel your journey is at an end.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Attack the man with your sword" tags="" created="201601301441" modifier="twee" twine-position="926,178">&lt;&lt;set $manKilled=true&gt;&gt;Your movement is swift and your blade cuts cleanly across the man's neck as you miss his cleaver blade. His body stumbles to the ground and appears to have somewhat of a seizure before it lies down still. \n\nFurther down the path to the North is the city walkway.\n\n[[Examine the body]]\nHead South to the [[City Gates]]\nContinue North to the [[City Walkway West]].</div><div tiddler="Go Home While you can" tags="" created="201602051605" modifier="twee" twine-position="2522,3593">You decide that the journey ahead is not worth the effort. You quickly begin to struggle out of the cave, trudging through the thick fog and fighting against the rampant voices in your head.\n&lt;&lt;if $artifact eq true&gt;&gt;\nYou cannot turn back now, the voices in your head continue to call back to you.\n&lt;&lt;else&gt;&gt;\n[[The End]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Kill King and Go Home" tags="" created="201602031725" modifier="twee" twine-position="1994,2698">&lt;&lt;if $shroud eq true&gt;&gt;You decide to leave the city with your goal of revenge being complete. But you wonder if it was really worth it in the end.&lt;&lt;endif&gt;&gt;&lt;&lt;if $artifact eq true&gt;&gt;You attempt to leave but you feel that something in the cellar is calling to you. You go to in the [[Cellar|Lair]].&lt;&lt;endif&gt;&gt;</div><div tiddler="Attack her" tags="" created="201602010119" modifier="twee" twine-position="1070,1389">With what?\n\n[[Use poison knives]]\n\n[[Stab with your sword]]</div><div tiddler="Attempt to run back to the Town Square" tags="" created="201601301453" modifier="twee" twine-position="467,423">You attempt to outrun the man. You underestimated his speed and he swiftly cuts you down.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="City Walkway East" tags="" created="201601301536" modifier="twee" twine-position="61,782">\nYou arrive in the East City Walkway. To the East is just a dead end while to the West lies the Town Square. On the North side lies the royal walls which surroundsthe royal palace. To the South is the City Market.\n\nIt is quiet and you feel as though every step forward is attracting unwanted attention. However, the road is vacant as well although you can see faint silhouettes in the distance at the town square.\n\n&lt;&lt;if $knightKilled eq false&gt;&gt;\nContinue to the East to the [[Town Square]].\n\nGo South to [[City Market]]\n&lt;&lt;else&gt;&gt;\nContinue to the East to the [[Town Square]].\n\nGo South to [[City Market(Cleared)]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Palace-Main" tags="" created="201601301656" modifier="twee" twine-position="268,1176">&lt;&lt;if $beast eq true&gt;&gt;\nThe palace room seems to have changed somehow.&lt;&lt;endif&gt;&gt;The fog appears to have somewhat seeped inside although its density has been thinned.\nThe place is a sight to behold with golden ornaments decorate every corner of the room. The floor, ceilings and walls are almost mirror like in appearance with a distinct baige coloring to it.\n\n[[Call out to the residents]]\n\nGo South to the[[Town Square]]\n\nGo upstairs to the [[Living Quarters]]\n\nGo West to the [[Kitchen]]\n\nGo East to the [[Living Room]]</div><div tiddler="Examine the body" tags="" created="201601301447" modifier="twee" twine-position="1092,175">You look closely at his features. His teeth are elongated, his skin looks darkened and his eyes are wide open and look lifeless. You feel some kind of remorse for taking his life but you were left with no choice.\n\nHead back to the [[City Gates]]\nContinue to the [[City Walkway West]]</div><div tiddler="Spare their lives" tags="" created="201602031816" modifier="twee" twine-position="1730,2012">&lt;&lt;set $barricade=true&gt;&gt;You decide to spare both of their lives and instead figure out where else to go. \n\nGo to the [[Graveyard]]</div><div tiddler="Ascend Humanity" tags="" created="201602062002" modifier="twee" twine-position="1857,4131">You accept the offer. The large mass then quickly darts over to you, with 5 large arms reaching out and grabbing you. It then consumes your body into its own lopping flesh. Your head is filled with knowledge of unknown times, of unknown races, of fallen and rise kingdoms, of pain and sorrow. You and the creature are now one within this dark labyrinth and you await for the next traveller.\n\n[[The End]]</div><div tiddler="Continue Reading King's Journal" tags="" created="201602010155" modifier="twee" twine-position="1305,1762">You continue reading: \n\n&quot;It calls to me. It guides me. I am at one with the Gods. I shall know what no man has known before, rule kingdoms man cannot fathom. It promises that to me. It promises me everything...&quot;\n\nYou see more pictures of the artifact all which is drawn over hundreads of pages. Two other pictures however catch your eye: One is of the artifact being contained in a box under the bed with a crude drawing of what appears to be a lever. Another is a hastily drawn image of some sort. You don't recognize what it could be. It appears to be the outline of some creature although its appearance is strange.\n\n[[Take the artifact]]\n\n[[Stop Reading|King's Room]]</div><div tiddler="Stop Reading" tags="" created="201602010046" modifier="twee" twine-position="288,1694">You stop reading the papers on the ground.&lt;&lt;if $beast eq true&gt;&gt; You are still uneasy after the sighting of the thing in the main palace room.&lt;&lt;else&gt;&gt;You see a large mass dart across the Palace-main and up the stairs and the sight of it startles you.&lt;&lt;endif&gt;&gt;\n\nGo to the [[Palace-Main]]</div><div tiddler="Stab sword through the door" tags="" created="201602010121" modifier="twee" twine-position="859,1577">&lt;&lt;set $queenDead=true&gt;&gt;You quickly stab your sword through the door with full force as she barges into it. You begin to hear excited screams and feel your blade thrashing haphazardly until it slowly begins to slow down.\n\nYou then hear crying and her saying &quot;Now my boy will never see the light...&quot; You feel grief overtake you, but manage to reason with yourself that nothing else could have been done.\n\nGo inside [[King's Room]]</div><div tiddler="Attempt to reason with the Knight" tags="" created="201601301548" modifier="twee" twine-position="823,766">What do you say to this hulking mass?\n\n[[&quot;Hello&quot;]]\n[[&quot;Stop!&quot;]]\n</div><div tiddler="City Market" tags="" created="201601301528" modifier="twee" twine-position="34,1198">As you approach the City Market, there is a knight staggering around, dragging a crude wooden club on the ground. He is huge in size and his foot stomps on the ground echo loudly throughout the marketplace. Unlike the other citizens, he remains quiet but does breathe quite heavily. You also notice a chain of keys on his person.\n\n[[Approach Knight]]\nHead North to [[City Walkway East]]</div><div tiddler=" Good" tags="" created="201602031720" modifier="twee" twine-position="1581,2861">You plunge your blade deep in the King's heart. You no longer feel any hatred or anger but rather one of regret for the violent behavior that overtook you. You see his lifeless eyes slowly begin to stop moving until they halt forever.&lt;&lt;if $artifact eq true&gt;&gt;You hear voices calling out to you from the cellar. [[You feel drawn and enter it.|Lair]]&lt;&lt;else&gt;&gt;\n\n[[Go Home|Kill King and Go Home]]\n\nGo West to the [[Graveyard]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Speak to it" tags="" created="201602061458" modifier="twee" twine-position="1681,3859">You quickly ask &quot;What... what are you?&quot;&lt;&lt;if $artifact eq true&gt;&gt;\n\n[[Listen Closely]]&lt;&lt;else&gt;&gt; The faces look over at you, all shiftly expressions as to emulate speech. At first you hear nothing and are frozen in speechlessness.&quot;lǞƮЯΦɱ ęɱ pПę৸ęЯРɱΦट ƮΦППǞट ЦΦყ.&quot; Then suddenly you feel what could only be described as an infitine amount of years of suffering flow through your mind. You see great kings, lowly peasants, priests, earlier humans all at the same time as your mind is instantly flooded. And they all carry an odd golden shaped object with them. And what quickly followed are visions of this creature invading lands, driving men, women and children mad. \n\nYour mind is utterly torn apart by what you've tried to comprehend. You feel everything numb and become nonsensical; you've lost yourself.\n\n[[The End]]&lt;&lt;endif&gt;&gt;</div><div tiddler="The End" tags="" created="201602031700" modifier="twee" twine-position="2254,2341">Thank you very much for playing &quot;The Fog&quot;\n\nNodes visited: \n\nAbout: This game is a project by me, Joshua Sylvestre and it is an experiment on coding in storytelling with the use of Twine's very own coding dialect. I hope you enjoyed it as much as I did creating it. My minor is Computer Science with a minor in Digital Media and I plan to someday become a video game programmer.\n\nIf this is your first playthrough, I encourage you to go back and change your options and see what happens, with options of particular interest being shrouding your face, letting certain characters live and collecting certain game objects in the world.</div><div tiddler="City Slums Alley" tags="" created="201601301416" modifier="twee" twine-position="398,71">As you head forth the street is deserted. The buildings all look as if no one inhabited them with a few of them lying in ruin. You notice flyers on the walls, and hear faint mumbling further down the alley way.\n\nYou feel as though you're being watched.\n\nRead a [[Flyer]]\nHead back West to the [[City Gates]]\n&lt;&lt;if $manKilled eq true&gt;&gt;\nContinue Down to the [[Alley End(Cleared)]]\n&lt;&lt;else&gt;&gt;\nContinue Down to [[Alley End]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Examine his body" tags="" created="201601301614" modifier="twee" twine-position="1229,1037">His armor is thick and it is a miracle you were even able to cut into him. His blood is pitch black and the smell of it is repulsive.\n\n\nGo North to [[City Walkway East]]\n[[Take his keys]]</div><div tiddler="Living Quarters" tags="" created="201601312357" modifier="twee" twine-position="588,1443">&lt;&lt;if $queenDead eq true&gt;&gt;You approach a hall of several rooms. Each have exquisite labels by the side of each door that reads: &lt;&lt;if $shroud eq true&gt;&gt;King Xander X, Queen Elise, Alexei.&lt;&lt;else&gt;&gt;˙ïεхεℓ∀ 'εşïℓƎ ŋεεųQ 'X ŗεđŋąX ɠŋïʞ. Reading the labels begin to make you light headed. You begin to hear voices calling you into the Graveyard.&lt;&lt;endif&gt;&gt;At the end of the hallway is the shattered window. You think you can climb down them to the Castle Graveyard. Two of the doors are barricaded shut.&lt;&lt;else&gt;&gt;You hear a shattering of glass right before you fully make it up the stairs. You approach a hall of several rooms. Each have exquisite labels by the side of each door that reads: &lt;&lt;if $shroud eq true&gt;&gt;King Xander X, Queen Elise, Alexei.&lt;&lt;else&gt;&gt;˙ïεхεℓ∀ 'εşïℓƎ ŋεεųQ 'X ŗεđŋąX ɠŋïʞ. Reading the labels begin to make you light headed. You begin to hear voices calling you into the Graveyard.&lt;&lt;endif&gt;&gt;At the end of the hallway is the shattered window. Two of the doors are barricaded shut.\n&lt;&lt;endif&gt;&gt;\nThe way down out the window is a one way path, there is no returning beyond this point.\n\nGo into the [[King's Room]]\n\nClimb down the window into the [[Graveyard]]</div><div tiddler="Search the Room" tags="" created="201602031625" modifier="twee" twine-position="758,1432">You begin to ransack the king's belongings. You mostly find documents, expensive jewelry, robes and other things you'd normally expect. However among the items you another key, this one decorated with carvings of a rhino.\n\n[[Take the key]]\n\n[[Return to looking at the room|King's Room]]\n\nGo to [[Living Quarters]]</div><div tiddler="&quot;Hello&quot;" tags="" created="201601301558" modifier="twee" twine-position="756,999">The knight smashes down his club. As you feel crushed by the weight, you think you hear a faint &quot;Help me.&quot; Perhaps reason wasn't the way to deal with the situation.\n\nYour vision blurs, your body numbs and everything slips away.</div><div tiddler="Monster" tags="" created="201602051607" modifier="twee" twine-position="1652,3627">You see a bright light down the end of the cave. You continue to trudge on as the voices become more and more&lt;&lt;if $artifact eq true&gt;&gt; clear, all chanting &quot;&lt;&lt;if $nameOn eq true&gt;&gt;&lt;&lt;print $name&gt;&gt;.&quot;&lt;&lt;else&gt;&gt;&quot;COME HITHER.&quot;&lt;&lt;endif&gt;&gt;&lt;&lt;else&gt;&gt; violent and angry; you can feel your mind slowly numbing.&lt;&lt;endif&gt;&gt;\n\nWhat you see leaves you&lt;&lt;if $artifact eq true&gt;&gt; strangely astonished&lt;&lt;else&gt;&gt; shocked and frozen with terror&lt;&lt;endif&gt;&gt;.\nIt is a huge creature, about 30 feet tall. Its slimy and oozing black blood from wounds all over it. It is a mass of appendages, all moving independently of one another and clawing at the walls surrounding it. At the top of the mass is several heads, all fused together by unnatural means. From what you can make out, one face is full of sorrow, another of anger and rage and the others are too disfigured to figure out. Fog appears to be heavily flowing out of this creatures mouths.\n\n[[Speak to it]]\n\n[[Attack it]]</div><div tiddler="Flyer" tags="" created="201601301420" modifier="twee" twine-position="365,269">You look at the flyer, it reads:\n\n&quot;All citizens, this is an alert! A thick fog has reduced visibility and rumors of strange occurences and sightings have began to circulate. All citizens are encouraged to stay inside.&quot;\n\nHead West towards the [[City Gates]]\nContinue East down to the [[Alley End]]</div><div tiddler="City Market(Cleared)" tags="" created="201601301637" modifier="twee" twine-position="162,1039">&lt;&lt;if $keyCollected eq true&gt;&gt;\nYou enter the Market to find the knight's dead corpse lying there.\nGo North to [[City Walkway East]]\n&lt;&lt;else&gt;&gt;\n[[Take his keys]]\nGo North to [[City Walkway East]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="What is happening in this town?" tags="" created="201602031732" modifier="twee" twine-position="1512,2358">The King's son begins to speak horribly and in a horrid sense. He says: &quot;It all happened about a days ago when the King's expedition team brought back this strange but horrifying relic. My father had to confiscate the relic from one of them because the man had become fixated on keeping the item with him at all times. Then the same happened to my father, but shortly after recieving it a thick fog began to cascade over the city.&quot;\n\n[[Continue Listening]]\n\n[[Attack the King's son]]\n\n[[Attack the King]]</div><div tiddler="Spare the King" tags="" created="201602031720" modifier="twee" twine-position="1344,3028">You look deep down at the King and see him in a new light. Although you are unsure of what has happened to him, you feel sympathetic towards him. He was a man of great riches and pride but now he is broken and insane. &lt;&lt;if $queenDead eq true&gt;&gt;You decide that the grief you feel for murdering his two beloved family members far outweighs your hatred for him. &lt;&lt;else&gt;&gt;You decide that the merciless murder of his beloved son far outweighs the lust for your own revenge.&lt;&lt;endif&gt;&gt;&lt;&lt;if $artifact eq true&gt;&gt;You hear voices calling out to you from the cellar. [[You feel drawn and enter it.|Lair]]&lt;&lt;else&gt;&gt;You decide to headout to your home.&lt;&lt;endif&gt;&gt;\n\n[[The End]]</div><div tiddler="StoryAuthor" tags="" created="201601301342" modifier="twee" twine-position="14,289">Joshua Sylvestre</div><div tiddler="About Page" tags="" created="201602062042" modifier="twee" twine-position="1464,253">Thank you very much for playing &quot;The Fog&quot;\n\nAbout: This game is a project by me, Joshua Sylvestre and it is an experiment on coding in storytelling with the use of Twine's very own coding dialect. I hope you enjoyed it as much as I did creating it. My minor is Computer Science with a minor in Digital Media and I plan to someday become a video game programmer.\n\nNumber of Passages: 97\nOver 6,600 words!\nOver 39,000 characters!\n\nThis game also focuses on replayability and a sense of difficulty. So I recommend that if you die, you try different scenarios till you reach a screen with &quot;The End.&quot; And if you do succeed, I encourage you to try selecting different options and see how the game plays out for you.\n\n[[Back to the Start|Start]]</div><div tiddler="Untitled Stylesheet 1" tags="stylesheet" created="201602062107" modifier="twee" twine-position="1749,543">/* Your story will use the CSS in this passage to style the page.\nGive this passage more tags, and it will only affect passages with those tags.\nExample selectors: */\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n#passages {\n  margin: 0 5% 0 5%;\n  padding: 2.5% 0 5% 0;\n  border-left: #990000 solid 1.5em;\n  height:auto;\n  background: #990000;\n  background: -webkit-radial-gradient(center, ellipse cover,  #990000 0%,#000000 80%);\n  background: radial-gradient(ellipse at center,  #990000 0%,#000000 80%);\n}\n.header {\n  width: 25%;\n  border-top: #990000 solid 0.1em;\n  margin: auto;\n  padding: 0 0 2.5% 0;\n}\n.passage {\n  margin: 2em;\n  font-family: &quot;Georgia&quot;, serif;\n  font-size:1.6em; \n  color: peru;\n  text-shadow: sienna 0.05em 0.05em 0.05em;\n}\na.internalLink, a.externalLink {\n  color: burlywood;\n  text-shadow: peru 0.05em 0.05em 0.05em;\n}\na.internalLink:hover, a.externalLink:hover {\n  color: white;\n  text-decoration: none;\n  text-shadow: peru 0.05em 0.05em 0.05em;\n}\n#sidebar {\n\tdisplay:none;\n}</div><div tiddler="Take the key" tags="" created="201602031628" modifier="twee" twine-position="597,1273">&lt;&lt;set $fortKey=true&gt;&gt;\nYou take the key.\n\n[[Return to looking at the room|King's Room]]\n\nGo to [[Living Quarters]]</div><div tiddler="Call out to the residents" tags="" created="201601312357" modifier="twee" twine-position="431,1175">You ask: &quot;Is anybody here?&quot;&lt;&lt;if $shroud eq true&gt;&gt;\nYou hear a blood-chilling sound:  pǝmusuoɔ ǝb llaɥS ll∀ uǝʌᴉƃɹoɟ ǝq llɐɥs enou.\nYou begin to panick but quickly reassure yourself that it was nothing.\n&lt;&lt;else&gt;&gt;\nNo response.\n&lt;&lt;endif&gt;&gt;\nGo South to the[[Town Square]]\n\nGo upstairs to the [[Living Quarters]]\n\nGo West to the [[Kitchen]]\n\nGo East to the [[Living Room]]</div><div tiddler="Read the book" tags="" created="201602010149" modifier="twee" twine-position="1095,1764">&lt;&lt;if $shroud eq true&gt;&gt;The book is labeled: &quot;King's Journal.&quot; You begin flipping through the pages till a sketch catches your eye: it is a crudely drawn artifact. It appears to be a human face on a sphere, however the face is heavily distorted and the eyes are crying blood from what you can make out.\n\n[[Continue Reading King's Journal]]\n\n&lt;&lt;else&gt;&gt; The pages all contain nonsensical writings and trying to read any of it makes you feel nauseous.\n\n[[Stop Reading|King's Room]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Listen Closely" tags="" created="201602061514" modifier="twee" twine-position="2089,3850">The artifact in your pocket begins to vibrate violently, with every sound the creature makes. You hear in an eerie but strangley beautiful voice: &quot;Ƭнє мєη нєяє нανє ѕιηηє∂... тнєу нανє ѕтσℓєη ƒяσм мє... тнιѕ тσωη ιѕ cυяѕє∂... вυт ǀ cαη тєℓℓ уσυ αяєη'т ƒяσм нєяє... уσυ cαяяу α ριєcє σƒ мє...мσяєs σƒ мє ιѕ ѕcαттєяє∂ тняσυgнσυт тнє ℓαη∂ѕ... тнσѕє ωнσ ρσѕѕєѕѕ ραят σƒ мє ѕнαℓℓ cσηтιηυє тσ ѕєєк мє, αѕ нαѕ тнιѕ ℓαη∂'ѕ кιηg... Lєт мє єηℓιgнтєη уσυ... αѕcєη∂ уσυя кησωℓє∂gє σƒ тнιѕ ωσяℓ∂...&quot;\n\n[[Accept the offer|Ascend Humanity]]\n\n[[Refuse the offer]]\n\n[[Attack it]]</div></div></body></html>
